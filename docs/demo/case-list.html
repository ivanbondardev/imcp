<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cases — IMCP</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <a href="../index.html" class="sidebar-logo" style="text-decoration: none; color: inherit;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2L2 7l10 5 10-5-10-5z"/>
          <path d="M2 17l10 5 10-5"/>
          <path d="M2 12l10 5 10-5"/>
        </svg>
        <div>
          <h1>IMCP</h1>
          <span>Case Platform</span>
        </div>
      </a>

      <nav>
        <ul class="sidebar-nav">
          <li>
            <a href="owner-dashboard.html">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="7" height="7"/>
                <rect x="14" y="3" width="7" height="7"/>
                <rect x="14" y="14" width="7" height="7"/>
                <rect x="3" y="14" width="7" height="7"/>
              </svg>
              Owner Dashboard
            </a>
          </li>
          <li>
            <a href="engineering-dashboard.html">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
              </svg>
              Engineering
            </a>
          </li>
          <li>
            <a href="case-list.html" class="active">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
              </svg>
              Кейси
              <span class="nav-badge">12</span>
            </a>
          </li>
          <li>
            <a href="approvals.html">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="9 11 12 14 22 4"/>
                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
              </svg>
              Підтвердження
              <span class="nav-badge">3</span>
            </a>
          </li>
          <li>
            <a href="documents.html">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
              </svg>
              Документи
            </a>
          </li>
          <li>
            <a href="timeline.html">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
              </svg>
              Таймлайн
            </a>
          </li>
        </ul>

        <div class="sidebar-section">
          <div class="sidebar-section-title">Фільтри</div>
          <ul class="sidebar-nav">
            <li>
              <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                  <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
                Мої кейси
              </a>
            </li>
            <li>
              <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"/>
                  <line x1="12" y1="8" x2="12" y2="12"/>
                  <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                Потребують уваги
                <span class="nav-badge">5</span>
              </a>
            </li>
            <li>
              <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                  <line x1="16" y1="2" x2="16" y2="6"/>
                  <line x1="8" y1="2" x2="8" y2="6"/>
                  <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
                SLA скоро
                <span class="nav-badge">2</span>
              </a>
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <div class="sidebar-section-title">Налаштування</div>
          <ul class="sidebar-nav">
            <li>
              <a href="personal-settings.html">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="3"/>
                  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>
                Персональні
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="page-header">
        <div class="flex items-center justify-between">
          <div class="header-with-help">
            <div>
              <h2>Кейси</h2>
              <p class="text-sm text-muted">Операційна черга — 12 активних (9 OPEN, 3 BLOCKED) • 5 завершені • 2 архів</p>
            </div>
            <span class="help-trigger" data-help="cases-page" style="margin-left: 12px;">?</span>
          </div>
          <div class="btn-group">
            <button class="btn btn-secondary">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
              </svg>
              Фільтри
            </button>
            <button class="btn btn-primary" onclick="openNewCaseModal()">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"/>
                <line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
              Новий кейс
            </button>
          </div>
        </div>
      </header>

      <!-- Content -->
      <div class="page-content">
        <!-- Views / Sorting (demo) -->
        <div class="views-bar">
          <div class="views-left">
            <button class="view-chip active" type="button" onclick="alert('Demo: view = All active'); event.stopPropagation();">Усі активні</button>
            <button class="view-chip" type="button" onclick="alert('Demo: view = My cases'); event.stopPropagation();">Мої кейси</button>
            <button class="view-chip" type="button" onclick="alert('Demo: view = Needs attention'); event.stopPropagation();">Потребують уваги</button>
            <button class="view-chip" type="button" onclick="alert('Demo: view = SLA soon'); event.stopPropagation();">SLA скоро</button>
          </div>
          <div class="views-right">
            <span class="views-label">Сортування:</span>
            <select class="form-select form-select-sm" onchange="alert('Demo: sort = ' + this.value); event.stopPropagation();">
              <option value="sla" selected>SLA (дедлайн)</option>
              <option value="risk">Ризик</option>
              <option value="updated">Остання активність</option>
              <option value="type">Тип кейсу</option>
            </select>
          </div>
        </div>
        <!-- Stats -->
        <div class="stats-grid">
          <div class="stat-card">
            <span class="help-trigger" data-help="approval-stat">?</span>
            <div class="stat-header">
              <span class="stat-label">Потребують approval</span>
              <div class="stat-icon warning">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="9 11 12 14 22 4"/>
                  <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                </svg>
              </div>
            </div>
            <div class="stat-value">3</div>
            <div class="stat-change negative">Потрібне рішення</div>
          </div>

          <div class="stat-card">
            <span class="help-trigger" data-help="sla-stat">?</span>
            <div class="stat-header">
              <span class="stat-label">SLA at risk</span>
              <div class="stat-icon danger">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"/>
                  <polyline points="12 6 12 12 16 14"/>
                </svg>
              </div>
            </div>
            <div class="stat-value">2</div>
            <div class="stat-change negative">&lt; 24 годин</div>
          </div>

          <div class="stat-card">
            <span class="help-trigger" data-help="active-stat">?</span>
            <div class="stat-header">
              <span class="stat-label">Активних кейсів</span>
              <div class="stat-icon primary">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                </svg>
              </div>
            </div>
            <div class="stat-value">12</div>
            <div class="stat-change positive">+3 за тиждень</div>
          </div>

          <div class="stat-card">
            <span class="help-trigger" data-help="completed-stat">?</span>
            <div class="stat-header">
              <span class="stat-label">Завершено цього місяця</span>
              <div class="stat-icon success">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                  <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
              </div>
            </div>
            <div class="stat-value">28</div>
            <div class="stat-change positive">+15% vs попередній</div>
          </div>
        </div>

        <!-- Requires Approval Section -->
        <div class="inbox-section">
          <div class="inbox-section-header">
            <h3 class="inbox-section-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--warning);">
                <polyline points="9 11 12 14 22 4"/>
                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
              </svg>
              Потребують підтвердження
              <span class="inbox-section-count">3</span>
              <span class="help-trigger" data-help="approval-section">?</span>
            </h3>
          </div>
          
          <div class="card">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Case ID <span class="help-trigger" data-help="case-id">?</span></th>
                    <th>Клієнт</th>
                    <th>Status / State <span class="help-trigger" data-help="case-status">?</span></th>
                    <th>Ризики</th>
                    <th>Approval <span class="help-trigger" data-help="approval-type">?</span></th>
                    <th>SLA <span class="help-trigger" data-help="sla-column">?</span></th>
                    <th>Owner</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p1" title="Priority 1 (High)">P1</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02451</strong>
                      </div>
                    </td>
                    <td>ACME Ltd</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill open">OPEN</span>
                        <span class="case-state-code">QUOTE_APPROVAL_PENDING</span>
                        <div class="case-activity">Останнє: AI підготував чернетку ціни • 35 хв тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <!-- Немає ризиків, очікує approval -->
                      </div>
                    </td>
                    <td><span class="badge badge-warning">QUOTE_APPROVAL</span></td>
                    <td>
                      <span class="sla-danger flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <circle cx="12" cy="12" r="10"/>
                          <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        20h
                      </span>
                    </td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ІП</span>
                        Іван П.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-primary" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p2" title="Priority 2 (Urgent)">P2</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02448</strong>
                      </div>
                    </td>
                    <td>Global Trade LLC</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill open">OPEN</span>
                        <span class="case-state-code">DIMS_APPROVAL_PENDING</span>
                        <div class="case-activity">Останнє: Виявлено розбіжність габаритів &gt;10% • 1 год тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <span class="risk-flag conflict">DIMS_MISMATCH</span>
                      </div>
                    </td>
                    <td><span class="badge badge-warning">DIMS_CHANGE_APPROVAL</span></td>
                    <td>
                      <span class="sla-danger flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <circle cx="12" cy="12" r="10"/>
                          <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        8h
                      </span>
                    </td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">МК</span>
                        Марія К.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-primary" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02445</strong>
                      </div>
                    </td>
                    <td>Tech Import UA</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill open">OPEN</span>
                        <span class="case-state-code">BL_REVIEW_PENDING</span>
                        <div class="case-substates">
                          <span class="substate-chip">EXPORT_DECLARATION_CHECK</span>
                        </div>
                        <div class="case-activity">Останнє: ЗЕД надіслав BL draft • 4 год тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <span class="risk-flag low">LOW_CONFIDENCE</span>
                      </div>
                    </td>
                    <td><span class="badge badge-warning">BL_DRAFT_APPROVAL</span></td>
                    <td>
                      <span class="text-secondary flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <circle cx="12" cy="12" r="10"/>
                          <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        5d 2h
                      </span>
                    </td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ІП</span>
                        Іван П.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-primary" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- In Progress Section -->
        <div class="inbox-section">
          <div class="inbox-section-header">
            <h3 class="inbox-section-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--accent);">
                <polyline points="23 4 23 10 17 10"/>
                <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
              </svg>
              В роботі
              <span class="inbox-section-count">6</span>
              <span class="help-trigger" data-help="in-progress-section">?</span>
            </h3>
          </div>
          
          <div class="card">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Case ID</th>
                    <th>Клієнт</th>
                    <th>Status / State</th>
                    <th>Ризики</th>
                    <th>NBA</th>
                    <th>SLA</th>
                    <th>Owner</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02450</strong>
                      </div>
                    </td>
                    <td>Світ Товарів</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill open">OPEN</span>
                        <span class="case-state-code">WAITING_CLIENT_INFO</span>
                        <div class="case-activity">Останнє: Відправлено запит клієнту • 2 год тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <!-- Очікуємо 7 Core Questions -->
                      </div>
                    </td>
                    <td>Очікуємо відповідь клієнта</td>
                    <td>3d 8h</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ІП</span>
                        Іван П.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-secondary" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p1" title="Priority 1 (High)">P1</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02449</strong>
                      </div>
                    </td>
                    <td>ФОП Коваленко</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill open">OPEN</span>
                        <span class="case-state-code">CLIENT_INFO_COLLECTED</span>
                        <div class="case-activity">Останнє: 7 Core Questions отримано • 18 хв тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <!-- Немає ризиків -->
                      </div>
                    </td>
                    <td>Створити запит у 1С</td>
                    <td>4d 2h</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">МК</span>
                        Марія К.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-secondary" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02447</strong>
                      </div>
                    </td>
                    <td>Electro UA</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill open">OPEN</span>
                        <span class="case-state-code">WAITING_WAREHOUSE_DIMS</span>
                        <div class="case-substates">
                          <span class="substate-chip">INSURANCE_DECISION</span>
                        </div>
                        <div class="case-activity">Останнє: Інструкції ALEX-... відправлено на склад • 1 день тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <!-- Очікуємо warehouse dims webhook -->
                      </div>
                    </td>
                    <td>Очікуємо габарити складу</td>
                    <td>6d</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ОС</span>
                        Олена С.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-secondary" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02446</strong>
                      </div>
                    </td>
                    <td>Home Decor Inc</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill open">OPEN</span>
                        <span class="case-state-code">WAITING_CLIENT_CONFIRMATION</span>
                        <div class="case-activity">Останнє: Клієнту надіслано quote • 2 дні тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <!-- Очікуємо відповідь клієнта -->
                      </div>
                    </td>
                    <td>Очікуємо підтвердження клієнта</td>
                    <td>7d</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ІП</span>
                        Іван П.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-secondary" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02444</strong>
                      </div>
                    </td>
                    <td>Fashion Import</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill open">OPEN</span>
                        <span class="case-state-code">PRE_ARRIVAL_TASKS</span>
                        <div class="case-substates">
                          <span class="substate-chip">BROKER_DOCS_FOLLOWUP</span>
                          <span class="substate-chip">TELEX_RELEASE_REQUEST</span>
                        </div>
                        <div class="case-activity">Останнє: ETA-3 weeks trigger • 6 год тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <!-- Немає ризиків -->
                      </div>
                    </td>
                    <td>Підготувати документи брокеру</td>
                    <td>10d</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">МК</span>
                        Марія К.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-secondary" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02443</strong>
                      </div>
                    </td>
                    <td>Industrial Parts</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill open">OPEN</span>
                        <span class="case-state-code">READY_FOR_CLEARANCE</span>
                        <div class="case-substates">
                          <span class="substate-chip">INSURANCE_DECISION</span>
                        </div>
                        <div class="case-activity">Останнє: Документи для брокера готові • 3 год тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <!-- Кейс готовий до закриття -->
                      </div>
                    </td>
                    <td>Готово до оформлення</td>
                    <td>12d</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ОС</span>
                        Олена С.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-secondary" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Waiting for External Section -->
        <div class="inbox-section">
          <div class="inbox-section-header">
            <h3 class="inbox-section-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--text-muted);">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
              </svg>
              Очікують зовнішню відповідь
              <span class="inbox-section-count">3</span>
              <span class="help-trigger" data-help="waiting-section">?</span>
            </h3>
          </div>
          
          <div class="card">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Case ID</th>
                    <th>Клієнт</th>
                    <th>Status / State</th>
                    <th>Ризики</th>
                    <th>Очікуємо</th>
                    <th>Очікування</th>
                    <th>Owner</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr onclick="window.location='case-detail.html'" style="opacity: 0.7;">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02442</strong>
                      </div>
                    </td>
                    <td>Toys World</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill blocked">BLOCKED</span>
                        <span class="case-state-code">WAITING_WAREHOUSE_DIMS</span>
                        <div class="case-activity">Останнє: Запит на габарити відправлено складу Yiwu • 3 дні тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <!-- Очікуємо warehouse dims webhook -->
                      </div>
                    </td>
                    <td>Yiwu Warehouse</td>
                    <td>
                      <div class="waiting-cell">
                        <div>3 дні</div>
                        <span class="sla-paused">⏸ SLA paused</span>
                      </div>
                    </td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ІП</span>
                        Іван П.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-ghost" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'" style="opacity: 0.7;">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p1" title="Priority 1 (High)">P1</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02441</strong>
                      </div>
                    </td>
                    <td>Garden Tools UA</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill blocked">BLOCKED</span>
                        <span class="case-state-code">WAITING_CLIENT_CONFIRMATION</span>
                        <div class="case-activity">Останнє: Quote відправлено, очікуємо YES/NO • 5 днів тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <!-- Очікуємо відповідь клієнта -->
                      </div>
                    </td>
                    <td>Клієнт</td>
                    <td>
                      <div class="waiting-cell">
                        <div>5 днів</div>
                        <span class="sla-paused">⏸ SLA paused</span>
                      </div>
                    </td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">МК</span>
                        Марія К.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-ghost" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'" style="opacity: 0.7;">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02440</strong>
                      </div>
                    </td>
                    <td>Auto Parts Import</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill blocked">BLOCKED</span>
                        <span class="case-state-code">BL_DRAFT_RECEIVED</span>
                        <div class="case-substates">
                          <span class="substate-chip">EXPORT_DECLARATION_CHECK</span>
                        </div>
                        <div class="case-activity">Останнє: ЗЕД надіслав BL draft • 1 день тому</div>
                      </div>
                    </td>
                    <td>
                      <div class="risk-flags">
                        <span class="risk-flag low">MISSING_EXPORT_DEC</span>
                      </div>
                    </td>
                    <td>ЗЕД</td>
                    <td>
                      <div class="waiting-cell">
                        <div>1 день</div>
                        <span class="sla-paused">⏸ SLA paused</span>
                      </div>
                    </td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ОС</span>
                        Олена С.
                      </div>
                    </td>
                    <td>
                      <div class="row-actions">
                        <a href="case-detail.html" class="btn btn-sm btn-ghost" onclick="event.stopPropagation();">Відкрити</a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Done / Archived (core-aligned, collapsed) -->
        <details class="inbox-details">
          <summary class="inbox-details-summary">
            <div class="inbox-details-left">
              <span class="inbox-details-title">Завершені</span>
              <span class="inbox-details-count">5</span>
            </div>
            <span class="inbox-details-hint">Останні закриті кейси (DONE)</span>
          </summary>
          <div class="card">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Case ID</th>
                    <th>Клієнт</th>
                    <th>Status / State</th>
                    <th>Закрито</th>
                    <th>Owner</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02439</strong>
                      </div>
                    </td>
                    <td>Nordic Home</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill done">DONE</span>
                        <span class="case-state-code">CLOSED</span>
                        <div class="case-activity">Останнє: Менеджер закрив кейс • 1 день тому</div>
                      </div>
                    </td>
                    <td><span class="text-secondary">2026-01-16</span></td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">МК</span>
                        Марія К.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-secondary" onclick="event.stopPropagation();">Відкрити</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02438</strong>
                      </div>
                    </td>
                    <td>Bright Tools</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill done">DONE</span>
                        <span class="case-state-code">CLOSED</span>
                        <div class="case-activity">Останнє: Документи передані брокеру • 2 дні тому</div>
                      </div>
                    </td>
                    <td><span class="text-secondary">2026-01-15</span></td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ОС</span>
                        Олена С.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-secondary" onclick="event.stopPropagation();">Відкрити</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02437</strong>
                      </div>
                    </td>
                    <td>ACME Ltd</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill done">DONE</span>
                        <span class="case-state-code">CLOSED</span>
                        <div class="case-activity">Останнє: Кейс закрито після READY_FOR_CLEARANCE • 3 дні тому</div>
                      </div>
                    </td>
                    <td><span class="text-secondary">2026-01-14</span></td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ІП</span>
                        Іван П.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-secondary" onclick="event.stopPropagation();">Відкрити</a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </details>

        <details class="inbox-details">
          <summary class="inbox-details-summary">
            <div class="inbox-details-left">
              <span class="inbox-details-title">Архів</span>
              <span class="inbox-details-count">2</span>
            </div>
            <span class="inbox-details-hint">Скасовані/закриті вручну (ARCHIVED)</span>
          </summary>
          <div class="card">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Case ID</th>
                    <th>Клієнт</th>
                    <th>Status / State</th>
                    <th>Причина</th>
                    <th>Owner</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr onclick="window.location='case-detail.html'" style="opacity: 0.8;">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02436</strong>
                      </div>
                    </td>
                    <td>Home Decor Inc</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill archived">ARCHIVED</span>
                        <span class="case-state-code">CANCELLED</span>
                        <div class="case-activity">Останнє: Менеджер скасував кейс • 1 тиждень тому</div>
                      </div>
                    </td>
                    <td><span class="text-secondary">Клієнт скасував замовлення</span></td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">ІП</span>
                        Іван П.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-ghost" onclick="event.stopPropagation();">Відкрити</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'" style="opacity: 0.8;">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="priority-pill p0" title="Priority 0 (Normal)">P0</span>
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02435</strong>
                      </div>
                    </td>
                    <td>Garden Tools UA</td>
                    <td>
                      <div class="case-status-state">
                        <span class="case-status-pill archived">ARCHIVED</span>
                        <span class="case-state-code">CANCELLED</span>
                        <div class="case-activity">Останнє: Закрито за таймаутом SLA • 2 тижні тому</div>
                      </div>
                    </td>
                    <td><span class="text-secondary">Таймаут: немає відповіді від клієнта</span></td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">МК</span>
                        Марія К.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-ghost" onclick="event.stopPropagation();">Відкрити</a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </details>

      </div>
    </main>
  </div>

  <!-- Modal: Новий кейс -->
  <div id="newCaseModal" class="modal-overlay" style="display: none;">
    <div class="modal">
      <div class="modal-header">
        <h3>Створити новий кейс</h3>
        <button class="btn btn-icon btn-ghost" onclick="closeNewCaseModal()">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
      
      <div class="modal-body">
        <form id="newCaseForm">
          <!-- Тип кейсу -->
          <div class="form-group">
            <label class="form-label" for="caseType">Тип кейсу <span class="text-danger">*</span></label>
            <select class="form-select" id="caseType" required onchange="updateCaseTypeFields()">
              <option value="">Оберіть тип кейсу...</option>
              <option value="F1_SEA_IMPORT">🚢 Морський імпорт (Китай → Україна)</option>
              <option value="F1_AIR_IMPORT">✈️ Авіа імпорт</option>
              <option value="F1_RAIL_IMPORT">🚂 Залізничний імпорт</option>
              <option value="F1_AUTO_EXPORT">🚛 Авто експорт</option>
            </select>
            <p class="form-help" id="caseTypeHelp"></p>
          </div>

          <!-- Клієнт -->
          <div class="form-group">
            <label class="form-label" for="clientSelect">Клієнт <span class="text-danger">*</span></label>
            <div class="client-select-wrapper">
              <select class="form-select" id="clientSelect" required>
                <option value="">Оберіть клієнта...</option>
                <option value="client_1">ACME Ltd</option>
                <option value="client_2">Global Trade LLC</option>
                <option value="client_3">Tech Import UA</option>
                <option value="client_4">Світ Товарів</option>
                <option value="client_5">ФОП Коваленко</option>
                <option value="new">+ Додати нового клієнта</option>
              </select>
            </div>
          </div>

          <!-- Форма нового клієнта (прихована) -->
          <div id="newClientFields" class="new-client-fields" style="display: none;">
            <div class="form-section-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              Новий клієнт
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="newClientName">Назва компанії <span class="text-danger">*</span></label>
                <input type="text" class="form-input" id="newClientName" placeholder="ТОВ Приклад">
              </div>
              <div class="form-group">
                <label class="form-label" for="newClientContact">Контактна особа</label>
                <input type="text" class="form-input" id="newClientContact" placeholder="Іван Петренко">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="newClientEmail">Email</label>
                <input type="email" class="form-input" id="newClientEmail" placeholder="client@example.com">
              </div>
              <div class="form-group">
                <label class="form-label" for="newClientPhone">Телефон</label>
                <input type="tel" class="form-input" id="newClientPhone" placeholder="+380 50 123 4567">
              </div>
            </div>
          </div>

          <!-- Динамічні поля залежно від типу кейсу -->
          <div id="caseTypeFields" style="display: none;">
            
            <!-- Поля для F1_SEA_IMPORT -->
            <div id="fields_F1_SEA_IMPORT" class="case-type-fields" style="display: none;">
              <div class="form-section-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                </svg>
                Дані відправлення (морський імпорт)
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="originWarehouse">Склад відправлення <span class="text-danger">*</span></label>
                  <select class="form-select" id="originWarehouse">
                    <option value="">Оберіть склад...</option>
                    <option value="YIWU">Yiwu (Китай)</option>
                    <option value="SHENZHEN">Shenzhen (Китай)</option>
                    <option value="GUANGZHOU">Guangzhou (Китай)</option>
                    <option value="OTHER">Інший</option>
                  </select>
                </div>
                <div class="form-group">
                  <label class="form-label" for="readyDate">Дата готовності вантажу</label>
                  <input type="date" class="form-input" id="readyDate">
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="cargoDescription">Опис вантажу</label>
                <textarea class="form-textarea" id="cargoDescription" rows="2" placeholder="Опишіть товар, кількість місць, особливості..."></textarea>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="packagesCount">Кількість місць</label>
                  <input type="number" class="form-input" id="packagesCount" min="1" placeholder="10">
                </div>
                <div class="form-group">
                  <label class="form-label" for="brokerOwner">Брокер</label>
                  <select class="form-select" id="brokerOwner">
                    <option value="OUR">Наш брокер</option>
                    <option value="CLIENT">Брокер клієнта</option>
                  </select>
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">
                    <input type="checkbox" id="dangerousGoods"> Небезпечний вантаж
                  </label>
                </div>
                <div class="form-group">
                  <label class="form-label">
                    <input type="checkbox" id="stackable" checked> Можна штабелювати
                  </label>
                </div>
              </div>
            </div>

            <!-- Поля для F1_AIR_IMPORT -->
            <div id="fields_F1_AIR_IMPORT" class="case-type-fields" style="display: none;">
              <div class="form-section-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"/>
                </svg>
                Дані відправлення (авіа імпорт)
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="airOriginCity">Місто відправлення</label>
                  <input type="text" class="form-input" id="airOriginCity" placeholder="Шанхай, Пекін...">
                </div>
                <div class="form-group">
                  <label class="form-label" for="airReadyDate">Дата готовності</label>
                  <input type="date" class="form-input" id="airReadyDate">
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="airCargoDescription">Опис вантажу</label>
                <textarea class="form-textarea" id="airCargoDescription" rows="2" placeholder="Опишіть товар..."></textarea>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="airWeightKg">Вага (кг)</label>
                  <input type="number" class="form-input" id="airWeightKg" min="0.1" step="0.1" placeholder="25.5">
                </div>
                <div class="form-group">
                  <label class="form-label" for="airUrgency">Терміновість</label>
                  <select class="form-select" id="airUrgency">
                    <option value="STANDARD">Стандартна</option>
                    <option value="EXPRESS">Експрес</option>
                    <option value="URGENT">Термінова</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Поля для F1_RAIL_IMPORT -->
            <div id="fields_F1_RAIL_IMPORT" class="case-type-fields" style="display: none;">
              <div class="form-section-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="4" y="3" width="16" height="16" rx="2"/>
                  <path d="M4 11h16"/>
                  <path d="M12 3v8"/>
                  <path d="m8 19-2 3"/>
                  <path d="m18 22-2-3"/>
                </svg>
                Дані відправлення (залізничний імпорт)
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="railOriginStation">Станція відправлення</label>
                  <input type="text" class="form-input" id="railOriginStation" placeholder="Xian, Zhengzhou...">
                </div>
                <div class="form-group">
                  <label class="form-label" for="railDestStation">Станція призначення</label>
                  <input type="text" class="form-input" id="railDestStation" placeholder="Київ-Ліски, Одеса...">
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="railContainerType">Тип контейнера</label>
                <select class="form-select" id="railContainerType">
                  <option value="20FT">20' стандарт</option>
                  <option value="40FT">40' стандарт</option>
                  <option value="40HC">40' High Cube</option>
                </select>
              </div>
            </div>

            <!-- Поля для F1_AUTO_EXPORT -->
            <div id="fields_F1_AUTO_EXPORT" class="case-type-fields" style="display: none;">
              <div class="form-section-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M10 17h4V5H2v12h3"/>
                  <path d="M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5v8h1"/>
                  <circle cx="7.5" cy="17.5" r="2.5"/>
                  <circle cx="17.5" cy="17.5" r="2.5"/>
                </svg>
                Дані відправлення (авто експорт)
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="autoOriginCity">Місто завантаження</label>
                  <input type="text" class="form-input" id="autoOriginCity" placeholder="Київ, Львів...">
                </div>
                <div class="form-group">
                  <label class="form-label" for="autoDestCountry">Країна призначення</label>
                  <input type="text" class="form-input" id="autoDestCountry" placeholder="Польща, Німеччина...">
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="autoLoadDate">Дата завантаження</label>
                  <input type="date" class="form-input" id="autoLoadDate">
                </div>
                <div class="form-group">
                  <label class="form-label" for="autoTruckType">Тип транспорту</label>
                  <select class="form-select" id="autoTruckType">
                    <option value="TENT">Тент</option>
                    <option value="REF">Рефрижератор</option>
                    <option value="CONTAINER">Контейнеровоз</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- Додаткові примітки -->
          <div class="form-group" id="notesGroup" style="display: none;">
            <label class="form-label" for="caseNotes">Примітки</label>
            <textarea class="form-textarea" id="caseNotes" rows="2" placeholder="Додаткова інформація..."></textarea>
          </div>
        </form>
      </div>
      
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeNewCaseModal()">Скасувати</button>
        <button class="btn btn-primary" onclick="createNewCase()">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="5" x2="12" y2="19"/>
            <line x1="5" y1="12" x2="19" y2="12"/>
          </svg>
          Створити кейс
        </button>
      </div>
    </div>
  </div>

  <style>
    /* ===== Case List Enhancements (core-aligned) ===== */
    .views-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 10px 12px;
      margin-bottom: 12px;
      background: var(--bg-panel);
      border: 1px solid var(--divider);
      border-radius: var(--radius-lg);
    }

    .views-left {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .view-chip {
      border: 1px solid var(--divider);
      background: var(--bg-editor);
      color: var(--text-secondary);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .view-chip:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-sm);
      color: var(--text);
    }

    .view-chip.active {
      border-color: var(--accent);
      background: var(--accent-light);
      color: var(--accent);
    }

    .views-right {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-shrink: 0;
    }

    .views-label {
      font-size: 12px;
      color: var(--text-muted);
      font-weight: 600;
      white-space: nowrap;
    }

    .form-select.form-select-sm {
      padding: 6px 10px;
      font-size: 12px;
      height: 32px;
    }

    .case-status-state {
      display: flex;
      flex-direction: column;
      gap: 6px;
      min-width: 240px;
      max-width: 340px;
    }

    .case-status-pill {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: fit-content;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.02em;
      border: 1px solid transparent;
      user-select: none;
    }

    .case-status-pill.open {
      color: #1d4ed8;
      background: #eff6ff;
      border-color: #bfdbfe;
    }

    .case-status-pill.blocked {
      color: #b45309;
      background: #fffbeb;
      border-color: #fde68a;
    }

    .case-status-pill.done {
      color: #166534;
      background: #ecfdf5;
      border-color: #bbf7d0;
    }

    .case-status-pill.archived {
      color: #374151;
      background: #f3f4f6;
      border-color: #e5e7eb;
    }

    .case-state-code {
      font-family: var(--font-mono);
      font-size: 11px;
      color: var(--text-secondary);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .case-substates {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .substate-chip {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 600;
      color: var(--text-secondary);
      background: var(--bg-hover);
      border: 1px solid var(--divider);
    }

    .case-activity {
      font-size: 11px;
      color: var(--text-muted);
      line-height: 1.35;
    }

    .risk-flags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      min-width: 120px;
      max-width: 200px;
    }

    .risk-flag {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 700;
      border: 1px solid transparent;
      white-space: nowrap;
    }

    .risk-flag.missing {
      color: #92400e;
      background: #fffbeb;
      border-color: #fde68a;
    }

    .risk-flag.conflict {
      color: #9f1239;
      background: #fff1f2;
      border-color: #fecdd3;
    }

    .risk-flag.low {
      color: #1f2937;
      background: #f3f4f6;
      border-color: #e5e7eb;
    }

    .risk-flag.approval {
      color: #1d4ed8;
      background: #eff6ff;
      border-color: #bfdbfe;
    }

    .priority-pill {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: fit-content;
      min-width: 28px;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 800;
      border: 1px solid transparent;
    }

    .priority-pill.p0 {
      color: #374151;
      background: #f3f4f6;
      border-color: #e5e7eb;
    }

    .priority-pill.p1 {
      color: #b45309;
      background: #fffbeb;
      border-color: #fde68a;
    }

    .priority-pill.p2 {
      color: #9f1239;
      background: #fff1f2;
      border-color: #fecdd3;
    }

    .row-actions {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      position: relative;
    }
    
    .waiting-cell {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .sla-paused {
      display: inline-flex;
      align-items: center;
      width: fit-content;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 700;
      color: var(--text-secondary);
      background: var(--bg-hover);
      border: 1px dashed var(--divider);
    }

    details.inbox-details {
      margin-top: 12px;
    }

    .inbox-details-summary {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 10px 12px;
      border: 1px solid var(--divider);
      border-radius: var(--radius-lg);
      background: var(--bg-panel);
      cursor: pointer;
      user-select: none;
      margin-bottom: 10px;
    }

    .inbox-details-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .inbox-details-title {
      font-size: 13px;
      font-weight: 700;
      color: var(--text);
    }

    .inbox-details-count {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 800;
      background: var(--bg-hover);
      border: 1px solid var(--divider);
      color: var(--text-secondary);
    }

    .inbox-details-hint {
      font-size: 12px;
      color: var(--text-muted);
      white-space: nowrap;
    }

    details.inbox-details > summary::-webkit-details-marker {
      display: none;
    }

    details.inbox-details > summary::after {
      content: '▾';
      color: var(--text-muted);
      font-size: 12px;
      font-weight: 900;
      margin-left: 10px;
    }

    details.inbox-details[open] > summary::after {
      content: '▴';
    }

    /* ===== Onboarding Tips System ===== */
    .tip {
      position: absolute;
      background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
      color: white;
      padding: 12px 16px;
      border-radius: var(--radius-lg);
      font-size: 12px;
      max-width: 280px;
      box-shadow: 0 8px 32px rgba(0, 120, 212, 0.3);
      z-index: 100;
      animation: tipPulse 0.4s ease-out, tipGlow 2s ease-in-out infinite;
    }

    @keyframes tipPulse {
      0% {
        opacity: 0;
        transform: scale(0.9) translateY(10px);
      }
      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    @keyframes tipGlow {
      0%, 100% {
        box-shadow: 0 8px 32px rgba(0, 120, 212, 0.3);
      }
      50% {
        box-shadow: 0 8px 40px rgba(0, 120, 212, 0.5);
      }
    }

    .tip.hiding {
      animation: tipHide 0.3s ease-in forwards;
    }

    @keyframes tipHide {
      to {
        opacity: 0;
        transform: scale(0.95) translateY(-10px);
      }
    }

    .tip-content {
      display: flex;
      gap: 10px;
      align-items: flex-start;
    }

    .tip-icon {
      flex-shrink: 0;
      width: 24px;
      height: 24px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .tip-icon svg {
      width: 14px;
      height: 14px;
    }

    .tip-text {
      flex: 1;
    }

    .tip-title {
      font-weight: 600;
      font-size: 13px;
      margin-bottom: 4px;
    }

    .tip-description {
      opacity: 0.9;
      line-height: 1.4;
    }

    .tip-close {
      position: absolute;
      top: 8px;
      right: 8px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }

    .tip-close:hover {
      background: rgba(255, 255, 255, 0.35);
    }

    .tip-close svg {
      width: 12px;
      height: 12px;
    }

    /* Tip arrows */
    .tip::before {
      content: '';
      position: absolute;
      width: 12px;
      height: 12px;
      background: inherit;
      transform: rotate(45deg);
    }

    .tip.arrow-top::before {
      top: -6px;
      left: 24px;
    }

    .tip.arrow-bottom::before {
      bottom: -6px;
      left: 24px;
    }

    .tip.arrow-left::before {
      left: -6px;
      top: 16px;
    }

    .tip.arrow-right::before {
      right: -6px;
      top: 16px;
    }

    /* Tip positions */
    .tip-wrapper {
      position: relative;
      display: inline-block;
    }

    /* Step indicator */
    .tip-step {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 10px;
      opacity: 0.75;
      margin-top: 8px;
      padding-top: 8px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    .tip-step-dots {
      display: flex;
      gap: 4px;
    }

    .tip-step-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
    }

    .tip-step-dot.active {
      background: white;
    }

    /* Action buttons in tip */
    .tip-actions {
      display: flex;
      gap: 8px;
      margin-top: 10px;
    }

    .tip-btn {
      padding: 6px 12px;
      border-radius: var(--radius-sm);
      font-size: 11px;
      font-weight: 500;
      cursor: pointer;
      border: none;
      transition: all 0.2s;
    }

    .tip-btn-primary {
      background: white;
      color: #005a9e;
    }

    .tip-btn-primary:hover {
      background: rgba(255, 255, 255, 0.9);
    }

    .tip-btn-secondary {
      background: rgba(255, 255, 255, 0.15);
      color: white;
    }

    .tip-btn-secondary:hover {
      background: rgba(255, 255, 255, 0.25);
    }

    /* Tips tour overlay */
    .tips-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.3);
      z-index: 99;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }

    .tips-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }

    /* Highlighted element during tour */
    .tip-highlight {
      position: relative;
      z-index: 101;
      box-shadow: 0 0 0 4px rgba(0, 120, 212, 0.4);
      border-radius: var(--radius-md);
    }

    /* Welcome tip (centered) */
    .tip-welcome {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 360px;
      text-align: center;
      padding: 24px;
      border-radius: var(--radius-xl);
    }

    .tip-welcome::before {
      display: none;
    }

    .tip-welcome .tip-icon {
      width: 48px;
      height: 48px;
      margin: 0 auto 12px;
    }

    .tip-welcome .tip-icon svg {
      width: 28px;
      height: 28px;
    }

    /* ===== Static Help Triggers (?) ===== */
    .help-trigger {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      background: var(--bg-hover);
      border: 1px solid var(--divider);
      border-radius: 50%;
      color: var(--text-muted);
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin-left: 6px;
      flex-shrink: 0;
    }

    .help-trigger:hover {
      background: var(--accent);
      border-color: var(--accent);
      color: white;
      transform: scale(1.1);
    }

    .help-trigger.active {
      background: var(--accent);
      border-color: var(--accent);
      color: white;
    }

    /* Help tooltip popup */
    .help-popup {
      position: absolute;
      background: var(--bg-editor);
      border: 1px solid var(--divider);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-popup);
      padding: 12px 14px;
      font-size: 12px;
      max-width: 300px;
      z-index: 200;
      animation: helpPopupIn 0.2s ease;
    }

    @keyframes helpPopupIn {
      from {
        opacity: 0;
        transform: translateY(-8px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .help-popup.closing {
      animation: helpPopupOut 0.15s ease forwards;
    }

    @keyframes helpPopupOut {
      to {
        opacity: 0;
        transform: translateY(-8px);
      }
    }

    .help-popup::before {
      content: '';
      position: absolute;
      top: -6px;
      left: 20px;
      width: 10px;
      height: 10px;
      background: var(--bg-editor);
      border-left: 1px solid var(--divider);
      border-top: 1px solid var(--divider);
      transform: rotate(45deg);
    }

    .help-popup.arrow-bottom::before {
      top: auto;
      bottom: -6px;
      border-left: none;
      border-top: none;
      border-right: 1px solid var(--divider);
      border-bottom: 1px solid var(--divider);
    }

    .help-popup-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--divider);
    }

    .help-popup-icon {
      width: 24px;
      height: 24px;
      background: var(--accent-light);
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--accent);
    }

    .help-popup-icon svg {
      width: 14px;
      height: 14px;
    }

    .help-popup-title {
      font-weight: 600;
      color: var(--text);
    }

    .help-popup-content {
      color: var(--text-secondary);
      line-height: 1.5;
    }

    .help-popup-content ul {
      margin: 8px 0 0 0;
      padding-left: 16px;
    }

    .help-popup-content li {
      margin-bottom: 4px;
    }

    .help-popup-content code {
      background: var(--bg-panel);
      padding: 1px 4px;
      border-radius: 3px;
      font-size: 11px;
      font-family: var(--font-mono);
    }

    .help-popup-footer {
      margin-top: 10px;
      padding-top: 8px;
      border-top: 1px solid var(--divider);
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .help-popup-footer kbd {
      background: var(--bg-panel);
      border: 1px solid var(--divider);
      border-radius: 3px;
      padding: 1px 5px;
      font-size: 10px;
      font-family: var(--font-mono);
    }

    /* Header with help */
    .header-with-help {
      display: flex;
      align-items: center;
    }

    /* Stat card help positioning */
    .stat-card {
      position: relative;
    }

    .stat-card .help-trigger {
      position: absolute;
      top: 12px;
      right: 12px;
    }

    /* Section title with help */
    .inbox-section-title {
      display: flex;
      align-items: center;
    }

    /* Table header help */
    th .help-trigger {
      margin-left: 4px;
    }

    /* Show all tips button */
    .show-tips-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: var(--radius-lg);
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: var(--shadow-md);
      transition: all 0.2s;
      z-index: 50;
    }

    .show-tips-btn:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: var(--shadow-popup);
    }

    .show-tips-btn svg {
      width: 16px;
      height: 16px;
    }

    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }

    .modal {
      background: var(--bg-editor);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-popup);
      width: 100%;
      max-width: 600px;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      animation: modalSlideIn 0.2s ease;
    }

    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      border-bottom: 1px solid var(--divider);
    }

    .modal-header h3 {
      font-size: 14px;
      font-weight: 600;
      margin: 0;
    }

    .modal-body {
      padding: 20px;
      overflow-y: auto;
      flex: 1;
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      padding: 16px 20px;
      border-top: 1px solid var(--divider);
      background: var(--bg-panel);
      border-radius: 0 0 var(--radius-xl) var(--radius-xl);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .form-section-title {
      font-size: 12px;
      font-weight: 600;
      color: var(--text);
      margin: 16px 0 12px;
      padding: 8px 12px;
      background: var(--bg-panel);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      gap: 8px;
      border: 1px solid var(--divider);
    }

    .form-section-title svg {
      color: var(--accent);
    }

    .new-client-fields {
      background: var(--accent-light);
      padding: 12px;
      border-radius: var(--radius-lg);
      margin-bottom: 12px;
      border: 1px solid #b3d4fc;
    }

    .new-client-fields .form-section-title {
      background: white;
      margin-top: 0;
    }

    .case-type-fields {
      animation: fadeIn 0.2s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .form-label input[type="checkbox"] {
      margin-right: 8px;
      transform: translateY(1px);
    }

    @media (max-width: 600px) {
      .form-row {
        grid-template-columns: 1fr;
      }
      
      .modal {
        max-height: 95vh;
      }
    }
  </style>

  <script>
    // Відкрити модальне вікно
    function openNewCaseModal() {
      document.getElementById('newCaseModal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    // Закрити модальне вікно
    function closeNewCaseModal() {
      document.getElementById('newCaseModal').style.display = 'none';
      document.body.style.overflow = '';
      resetNewCaseForm();
    }

    // Скинути форму
    function resetNewCaseForm() {
      document.getElementById('newCaseForm').reset();
      document.getElementById('newClientFields').style.display = 'none';
      document.getElementById('caseTypeFields').style.display = 'none';
      document.getElementById('notesGroup').style.display = 'none';
      document.getElementById('caseTypeHelp').textContent = '';
      
      // Сховати всі поля типів кейсів
      document.querySelectorAll('.case-type-fields').forEach(el => {
        el.style.display = 'none';
      });
    }

    // Оновити поля залежно від типу кейсу
    function updateCaseTypeFields() {
      const caseType = document.getElementById('caseType').value;
      const fieldsContainer = document.getElementById('caseTypeFields');
      const notesGroup = document.getElementById('notesGroup');
      const helpText = document.getElementById('caseTypeHelp');
      
      // Сховати всі поля типів кейсів
      document.querySelectorAll('.case-type-fields').forEach(el => {
        el.style.display = 'none';
      });
      
      if (caseType) {
        fieldsContainer.style.display = 'block';
        notesGroup.style.display = 'block';
        
        // Показати відповідні поля
        const typeFields = document.getElementById('fields_' + caseType);
        if (typeFields) {
          typeFields.style.display = 'block';
        }
        
        // Підказка для типу кейсу
        const helpTexts = {
          'F1_SEA_IMPORT': 'Морська доставка контейнерів зі складів Китаю (Yiwu, Shenzhen) до портів України.',
          'F1_AIR_IMPORT': 'Авіаперевезення для термінових та легких вантажів з будь-яких аеропортів світу.',
          'F1_RAIL_IMPORT': 'Залізничні перевезення по маршрутах China Railway Express.',
          'F1_AUTO_EXPORT': 'Автомобільні перевезення з України до країн Європи.'
        };
        helpText.textContent = helpTexts[caseType] || '';
      } else {
        fieldsContainer.style.display = 'none';
        notesGroup.style.display = 'none';
        helpText.textContent = '';
      }
    }

    // Показати/сховати поля нового клієнта
    document.getElementById('clientSelect').addEventListener('change', function() {
      const newClientFields = document.getElementById('newClientFields');
      if (this.value === 'new') {
        newClientFields.style.display = 'block';
      } else {
        newClientFields.style.display = 'none';
      }
    });

    // Створити новий кейс (демо)
    function createNewCase() {
      const caseType = document.getElementById('caseType').value;
      const clientSelect = document.getElementById('clientSelect').value;
      
      if (!caseType) {
        alert('Будь ласка, оберіть тип кейсу');
        return;
      }
      
      if (!clientSelect) {
        alert('Будь ласка, оберіть або додайте клієнта');
        return;
      }
      
      if (clientSelect === 'new') {
        const newClientName = document.getElementById('newClientName').value;
        if (!newClientName) {
          alert('Будь ласка, вкажіть назву нового клієнта');
          return;
        }
      }
      
      // Демо: показуємо успішне створення
      const caseTypeNames = {
        'F1_SEA_IMPORT': 'Морський імпорт',
        'F1_AIR_IMPORT': 'Авіа імпорт',
        'F1_RAIL_IMPORT': 'Залізничний імпорт',
        'F1_AUTO_EXPORT': 'Авто експорт'
      };
      
      const newCaseNumber = 'F1-SEA-2026-' + String(Math.floor(Math.random() * 9000) + 1000).padStart(5, '0');
      
      alert(`✅ Кейс створено!\n\nНомер: ${newCaseNumber}\nТип: ${caseTypeNames[caseType]}\n\nКейс перейшов у стан: WAITING_CLIENT_INFO\n\nМенеджеру призначено задачу: "Зібрати дані від клієнта"`);
      
      closeNewCaseModal();
      
      // В реальному додатку тут був би редірект на сторінку нового кейсу
      // window.location.href = 'case-detail.html?id=' + newCaseNumber;
    }

    // Закрити модал при кліку на overlay
    document.getElementById('newCaseModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeNewCaseModal();
      }
    });

    // Закрити модал при натисканні Escape
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        const modal = document.getElementById('newCaseModal');
        if (modal.style.display === 'flex') {
          closeNewCaseModal();
        }
      }
    });

    // ===== ONBOARDING TIPS SYSTEM =====
    const TipsManager = {
      storageKey: 'imcp_onboarding_tips',
      tips: [],
      currentStep: 0,
      tourMode: false,

      init() {
        this.loadState();
        this.createTips();
        this.createShowTipsButton();
        
        // Показати tips після невеликої затримки
        setTimeout(() => {
          if (!this.allTipsDismissed()) {
            this.showInitialTips();
          }
        }, 500);
      },

      loadState() {
        try {
          const saved = localStorage.getItem(this.storageKey);
          this.dismissedTips = saved ? JSON.parse(saved) : {};
        } catch (e) {
          this.dismissedTips = {};
        }
      },

      saveState() {
        try {
          localStorage.setItem(this.storageKey, JSON.stringify(this.dismissedTips));
        } catch (e) {
          console.warn('Could not save tips state');
        }
      },

      allTipsDismissed() {
        return this.tips.every(tip => this.dismissedTips[tip.id]);
      },

      createTips() {
        // Визначаємо підказки для сторінки
        this.tips = [
          {
            id: 'tip-new-case',
            targetSelector: '.btn-primary',
            title: 'Створення нового кейсу',
            description: 'Натисніть тут, щоб створити новий кейс. Система автоматично призначить номер та визначить перший крок.',
            position: 'bottom-right',
            arrow: 'top',
            icon: 'plus'
          },
          {
            id: 'tip-approval-section',
            targetSelector: '.inbox-section:first-child',
            title: 'Потребують вашої уваги',
            description: 'Тут відображаються кейси, які очікують підтвердження. Червоний SLA означає терміновість.',
            position: 'inside-top',
            arrow: 'none',
            icon: 'alert'
          },
          {
            id: 'tip-stats',
            targetSelector: '.stats-grid',
            title: 'Статистика операцій',
            description: 'Швидкий огляд ключових показників: approval requests, SLA at risk, активні кейси.',
            position: 'bottom-left',
            arrow: 'top',
            icon: 'chart'
          },
          {
            id: 'tip-filters',
            targetSelector: '.sidebar-section:first-of-type',
            title: 'Швидкі фільтри',
            description: 'Використовуйте фільтри для швидкого пошуку потрібних кейсів: мої кейси, SLA скоро тощо.',
            position: 'right',
            arrow: 'left',
            icon: 'filter'
          }
        ];
      },

      createShowTipsButton() {
        const btn = document.createElement('button');
        btn.className = 'show-tips-btn';
        btn.id = 'showTipsBtn';
        btn.innerHTML = `
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"/>
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
            <line x1="12" y1="17" x2="12.01" y2="17"/>
          </svg>
          Підказки
        `;
        btn.onclick = () => this.startTour();
        document.body.appendChild(btn);
      },

      showInitialTips() {
        // Показуємо перший не закритий tip
        const firstActiveTip = this.tips.find(tip => !this.dismissedTips[tip.id]);
        if (firstActiveTip) {
          this.showTip(firstActiveTip, false);
        }
      },

      showTip(tipConfig, isTour = false) {
        const target = document.querySelector(tipConfig.targetSelector);
        if (!target) return;

        // Видаляємо попередні tips
        this.hideAllTips();

        const tip = document.createElement('div');
        tip.className = `tip arrow-${tipConfig.arrow}`;
        tip.id = tipConfig.id;
        tip.dataset.tipId = tipConfig.id;

        const iconSvg = this.getIcon(tipConfig.icon);
        const stepIndicator = isTour ? this.getStepIndicator() : '';

        tip.innerHTML = `
          <button class="tip-close" onclick="TipsManager.dismissTip('${tipConfig.id}')">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"/>
              <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
          </button>
          <div class="tip-content">
            <div class="tip-icon">${iconSvg}</div>
            <div class="tip-text">
              <div class="tip-title">${tipConfig.title}</div>
              <div class="tip-description">${tipConfig.description}</div>
              ${isTour ? `
                <div class="tip-actions">
                  ${this.currentStep > 0 ? '<button class="tip-btn tip-btn-secondary" onclick="TipsManager.prevStep()">← Назад</button>' : ''}
                  ${this.currentStep < this.tips.length - 1 
                    ? '<button class="tip-btn tip-btn-primary" onclick="TipsManager.nextStep()">Далі →</button>'
                    : '<button class="tip-btn tip-btn-primary" onclick="TipsManager.endTour()">Готово ✓</button>'}
                </div>
              ` : ''}
              ${stepIndicator}
            </div>
          </div>
        `;

        document.body.appendChild(tip);

        // Позиціонування
        this.positionTip(tip, target, tipConfig.position);

        // Підсвітка target елемента в tour mode
        if (isTour) {
          target.classList.add('tip-highlight');
        }
      },

      positionTip(tip, target, position) {
        const targetRect = target.getBoundingClientRect();
        const tipRect = tip.getBoundingClientRect();
        
        let top, left;

        switch (position) {
          case 'bottom-right':
            top = targetRect.bottom + 12;
            left = targetRect.right - tipRect.width;
            break;
          case 'bottom-left':
            top = targetRect.bottom + 12;
            left = targetRect.left;
            break;
          case 'inside-top':
            top = targetRect.top + 60;
            left = targetRect.left + 20;
            break;
          case 'right':
            top = targetRect.top;
            left = targetRect.right + 12;
            break;
          case 'left':
            top = targetRect.top;
            left = targetRect.left - tipRect.width - 12;
            break;
          default:
            top = targetRect.bottom + 12;
            left = targetRect.left;
        }

        // Переконуємось, що tip в межах екрану
        const padding = 16;
        left = Math.max(padding, Math.min(left, window.innerWidth - tipRect.width - padding));
        top = Math.max(padding, Math.min(top, window.innerHeight - tipRect.height - padding));

        tip.style.position = 'fixed';
        tip.style.top = `${top}px`;
        tip.style.left = `${left}px`;
      },

      getIcon(iconName) {
        const icons = {
          plus: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>',
          alert: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
          chart: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>',
          filter: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>',
          info: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>'
        };
        return icons[iconName] || icons.info;
      },

      getStepIndicator() {
        if (!this.tourMode) return '';
        
        const dots = this.tips.map((_, i) => 
          `<span class="tip-step-dot ${i === this.currentStep ? 'active' : ''}"></span>`
        ).join('');
        
        return `
          <div class="tip-step">
            <div class="tip-step-dots">${dots}</div>
            <span>${this.currentStep + 1} з ${this.tips.length}</span>
          </div>
        `;
      },

      dismissTip(tipId) {
        const tip = document.querySelector(`[data-tip-id="${tipId}"]`);
        if (tip) {
          tip.classList.add('hiding');
          setTimeout(() => tip.remove(), 300);
        }

        // Зберігаємо в localStorage
        this.dismissedTips[tipId] = true;
        this.saveState();

        // Знімаємо підсвітку
        document.querySelectorAll('.tip-highlight').forEach(el => el.classList.remove('tip-highlight'));

        if (this.tourMode) {
          this.endTour();
        }
      },

      hideAllTips() {
        document.querySelectorAll('.tip').forEach(tip => tip.remove());
        document.querySelectorAll('.tip-highlight').forEach(el => el.classList.remove('tip-highlight'));
      },

      startTour() {
        this.tourMode = true;
        this.currentStep = 0;
        
        // Створюємо overlay
        let overlay = document.querySelector('.tips-overlay');
        if (!overlay) {
          overlay = document.createElement('div');
          overlay.className = 'tips-overlay';
          overlay.onclick = () => this.endTour();
          document.body.appendChild(overlay);
        }
        overlay.classList.add('active');

        this.showCurrentTourStep();
      },

      showCurrentTourStep() {
        if (this.currentStep >= 0 && this.currentStep < this.tips.length) {
          this.showTip(this.tips[this.currentStep], true);
          
          // Скролимо до елемента
          const target = document.querySelector(this.tips[this.currentStep].targetSelector);
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
        }
      },

      nextStep() {
        document.querySelectorAll('.tip-highlight').forEach(el => el.classList.remove('tip-highlight'));
        this.currentStep++;
        if (this.currentStep < this.tips.length) {
          this.showCurrentTourStep();
        } else {
          this.endTour();
        }
      },

      prevStep() {
        document.querySelectorAll('.tip-highlight').forEach(el => el.classList.remove('tip-highlight'));
        if (this.currentStep > 0) {
          this.currentStep--;
          this.showCurrentTourStep();
        }
      },

      endTour() {
        this.tourMode = false;
        this.hideAllTips();
        
        const overlay = document.querySelector('.tips-overlay');
        if (overlay) {
          overlay.classList.remove('active');
        }
      },

      resetAllTips() {
        this.dismissedTips = {};
        this.saveState();
        this.showInitialTips();
      }
    };

    // ===== STATIC HELP SYSTEM =====
    const HelpManager = {
      activePopup: null,
      activeTrigger: null,

      // Довідкова інформація для кожного компонента
      helpContent: {
        // Сторінка
        'cases-page': {
          title: 'Сторінка "Кейси"',
          icon: 'folder',
          content: `
            <p>Центральна сторінка для управління всіма кейсами. Тут ви можете:</p>
            <ul>
              <li>Переглядати активні кейси за категоріями</li>
              <li>Створювати нові кейси</li>
              <li>Відстежувати SLA та статуси</li>
              <li>Швидко переходити до потрібного кейсу</li>
            </ul>
          `,
          shortcut: 'G → C'
        },

        // Статистичні картки
        'approval-stat': {
          title: 'Потребують Approval',
          icon: 'check',
          content: `
            <p>Кейси, які очікують вашого підтвердження або рішення.</p>
            <ul>
              <li><strong>QUOTE_APPROVAL</strong> — підтвердження ціни</li>
              <li><strong>DIMS_CHANGE</strong> — зміна габаритів</li>
              <li><strong>BL_DRAFT</strong> — перевірка B/L</li>
            </ul>
            <p>Рекомендуємо обробляти approval запити щодня.</p>
          `
        },
        'sla-stat': {
          title: 'SLA at Risk',
          icon: 'clock',
          content: `
            <p>Кейси, у яких залишилось менше 24 годин до порушення SLA.</p>
            <p><strong>Кольори SLA:</strong></p>
            <ul>
              <li>🟢 Зелений — достатньо часу</li>
              <li>🟡 Жовтий — менше 48 годин</li>
              <li>🔴 Червоний — критично, менше 24 годин</li>
            </ul>
          `
        },
        'active-stat': {
          title: 'Активні кейси',
          icon: 'folder',
          content: `
            <p>Загальна кількість кейсів у технічних статусах, що потребують роботи.</p>
            <p><strong>Active =</strong> <code>status IN (OPEN, BLOCKED)</code>.</p>
            <p>Не включає:</p>
            <ul>
              <li><strong>DONE</strong> — завершені</li>
              <li><strong>ARCHIVED</strong> — закриті/скасовані/архів</li>
            </ul>
          `
        },
        'completed-stat': {
          title: 'Завершено цього місяця',
          icon: 'check',
          content: `
            <p>Кількість успішно закритих кейсів за поточний календарний місяць.</p>
            <p>Порівняння <code>+15%</code> показує динаміку відносно попереднього місяця.</p>
          `
        },

        // Секції таблиць
        'approval-section': {
          title: 'Секція підтверджень',
          icon: 'alert',
          content: `
            <p>Кейси, які <strong>потребують вашого рішення</strong> через Human Approval Gate.</p>
            <p>Система вже підготувала чернетку (draft), а ви обираєте: <strong>Approve</strong>, <strong>Edit &amp; Approve</strong> або <strong>Reject</strong>.</p>
            <p><strong>Типи approval:</strong></p>
            <ul>
              <li><strong>QUOTE_APPROVAL</strong> — клієнт отримав ціну, потрібно підтвердити або відхилити</li>
              <li><strong>DIMS_CHANGE</strong> — склад виміряв інші габарити, впливає на ціну</li>
              <li><strong>BL_DRAFT</strong> — перевірка чернетки коносаменту</li>
            </ul>
          `
        },
        'in-progress-section': {
          title: 'Кейси в роботі',
          icon: 'progress',
          content: `
            <p>Активні кейси, над якими зараз ведеться робота.</p>
            <p><strong>NBA</strong> (Next Best Action) — показує наступний крок, який потрібно виконати.</p>
            <p>Кейси автоматично сортуються за пріоритетом SLA.</p>
          `
        },
        'waiting-section': {
          title: 'Очікують відповідь',
          icon: 'clock',
          content: `
            <p>Кейси, заблоковані очікуванням на зовнішню сторону:</p>
            <ul>
              <li><strong>Клієнт</strong> — очікуємо підтвердження або дані</li>
              <li><strong>Склад</strong> — очікуємо габарити або фото</li>
              <li><strong>Перевізник</strong> — очікуємо tracking або ETD</li>
            </ul>
            <p>SLA призупиняється на час очікування.</p>
          `
        },

        // Колонки таблиці
        'case-id': {
          title: 'Case ID',
          icon: 'info',
          content: `
            <p>Унікальний ідентифікатор кейсу.</p>
            <p><strong>Формат:</strong> <code>F1-XXX-YYYY-NNNNN</code></p>
            <ul>
              <li><strong>F1</strong> — код компанії</li>
              <li><strong>XXX</strong> — тип (SEA, AIR, RAIL, AUTO)</li>
              <li><strong>YYYY</strong> — рік</li>
              <li><strong>NNNNN</strong> — порядковий номер</li>
            </ul>
          `
        },
        'case-status': {
          title: 'Статус кейсу',
          icon: 'info',
          content: `
            <p>У IMCP ми розрізняємо <strong>status</strong> і <strong>state</strong>:</p>
            <ul>
              <li><strong>status</strong> — технічний агрегат (для черги роботи)</li>
              <li><strong>state</strong> — бізнес-стан (де ми в процесі)</li>
            </ul>
            <p><strong>Status (агрегат):</strong></p>
            <ul>
              <li>🔵 <strong>OPEN</strong> — є що робити (NBA або pending approvals)</li>
              <li>🟠 <strong>BLOCKED</strong> — чекаємо зовнішню сторону (клієнт/склад/партнер)</li>
              <li>🟢 <strong>DONE</strong> — завершено успішно</li>
              <li>⚪ <strong>ARCHIVED</strong> — закрито/скасовано/архів</li>
            </ul>
            <p><strong>State</strong> показується поруч як код бізнес-стану (наприклад <code>WAITING_CLIENT_INFO</code>).</p>
          `
        },
        'approval-type': {
          title: 'Тип Approval',
          icon: 'check',
          content: `
            <p>Вид підтвердження, яке очікує кейс.</p>
            <ul>
              <li><strong>QUOTE</strong> — підтвердження ціни клієнтом</li>
              <li><strong>DIMS</strong> — підтвердження зміни габаритів</li>
              <li><strong>BL</strong> — підтвердження коносаменту</li>
              <li><strong>RELEASE</strong> — дозвіл на відправку</li>
            </ul>
          `
        },
        'sla-column': {
          title: 'SLA (Service Level Agreement)',
          icon: 'clock',
          content: `
            <p>Час, що залишився до дедлайну виконання поточного кроку.</p>
            <p><strong>Як розраховується:</strong></p>
            <ul>
              <li>Кожен статус має свій SLA</li>
              <li>Відлік починається при зміні статусу</li>
              <li>Призупиняється на вихідні (опціонально)</li>
            </ul>
          `
        }
      },

      init() {
        this.bindEvents();
      },

      bindEvents() {
        // Клік по help-trigger
        document.addEventListener('click', (e) => {
          const trigger = e.target.closest('.help-trigger');
          
          if (trigger) {
            e.preventDefault();
            e.stopPropagation();
            const helpId = trigger.dataset.help;
            if (helpId) {
              this.togglePopup(helpId, trigger);
            }
            return;
          }

          // Закрити popup при кліку зовні
          if (this.activePopup && !e.target.closest('.help-popup')) {
            this.closePopup();
          }
        });

        // Закрити при Escape
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && this.activePopup) {
            this.closePopup();
          }
        });
      },

      togglePopup(helpId, trigger) {
        // Якщо відкритий той самий popup — закриваємо
        if (this.activeTrigger === trigger) {
          this.closePopup();
          return;
        }

        // Закриваємо попередній
        this.closePopup();

        const content = this.helpContent[helpId];
        if (!content) return;

        // Створюємо popup
        const popup = document.createElement('div');
        popup.className = 'help-popup';
        popup.innerHTML = `
          <div class="help-popup-header">
            <div class="help-popup-icon">${this.getIcon(content.icon)}</div>
            <div class="help-popup-title">${content.title}</div>
          </div>
          <div class="help-popup-content">
            ${content.content}
          </div>
          ${content.shortcut ? `
            <div class="help-popup-footer">
              <span>Швидкий доступ:</span>
              <kbd>${content.shortcut}</kbd>
            </div>
          ` : ''}
        `;

        document.body.appendChild(popup);

        // Позиціонування
        this.positionPopup(popup, trigger);

        // Зберігаємо стан
        this.activePopup = popup;
        this.activeTrigger = trigger;
        trigger.classList.add('active');
      },

      positionPopup(popup, trigger) {
        const triggerRect = trigger.getBoundingClientRect();
        const popupRect = popup.getBoundingClientRect();

        let top = triggerRect.bottom + 8;
        let left = triggerRect.left - 10;

        // Перевіряємо чи не виходить за праву межу
        if (left + popupRect.width > window.innerWidth - 16) {
          left = window.innerWidth - popupRect.width - 16;
        }

        // Перевіряємо чи не виходить за нижню межу
        if (top + popupRect.height > window.innerHeight - 16) {
          // Показуємо зверху
          top = triggerRect.top - popupRect.height - 8;
          popup.style.setProperty('--arrow-position', 'bottom');
          popup.classList.add('arrow-bottom');
        }

        // Не виходимо за ліву межу
        left = Math.max(16, left);

        popup.style.position = 'fixed';
        popup.style.top = `${top}px`;
        popup.style.left = `${left}px`;
      },

      closePopup() {
        if (this.activePopup) {
          this.activePopup.classList.add('closing');
          setTimeout(() => {
            if (this.activePopup) {
              this.activePopup.remove();
              this.activePopup = null;
            }
          }, 150);
        }
        if (this.activeTrigger) {
          this.activeTrigger.classList.remove('active');
          this.activeTrigger = null;
        }
      },

      getIcon(iconName) {
        const icons = {
          info: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',
          check: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>',
          clock: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>',
          folder: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>',
          alert: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
          progress: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>'
        };
        return icons[iconName] || icons.info;
      }
    };

    // Ініціалізація при завантаженні сторінки
    document.addEventListener('DOMContentLoaded', () => {
      TipsManager.init();
      HelpManager.init();
    });
  </script>
</body>
</html>
