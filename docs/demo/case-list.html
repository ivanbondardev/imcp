<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cases ‚Äî IMCP</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <a href="../index.html" class="sidebar-logo" style="text-decoration: none; color: inherit;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2L2 7l10 5 10-5-10-5z"/>
          <path d="M2 17l10 5 10-5"/>
          <path d="M2 12l10 5 10-5"/>
        </svg>
        <div>
          <h1>IMCP</h1>
          <span>Case Platform</span>
        </div>
      </a>

      <nav>
        <ul class="sidebar-nav">
          <li>
            <a href="owner-dashboard.html">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="7" height="7"/>
                <rect x="14" y="3" width="7" height="7"/>
                <rect x="14" y="14" width="7" height="7"/>
                <rect x="3" y="14" width="7" height="7"/>
              </svg>
              Owner Dashboard
            </a>
          </li>
          <li>
            <a href="case-list.html" class="active">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
              </svg>
              –ö–µ–π—Å–∏
              <span class="nav-badge">12</span>
            </a>
          </li>
          <li>
            <a href="approvals.html">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="9 11 12 14 22 4"/>
                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
              </svg>
              –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
              <span class="nav-badge">3</span>
            </a>
          </li>
          <li>
            <a href="documents.html">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
              </svg>
              –î–æ–∫—É–º–µ–Ω—Ç–∏
            </a>
          </li>
          <li>
            <a href="timeline.html">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
              </svg>
              –¢–∞–π–º–ª–∞–π–Ω
            </a>
          </li>
        </ul>

        <div class="sidebar-section">
          <div class="sidebar-section-title">–§—ñ–ª—å—Ç—Ä–∏</div>
          <ul class="sidebar-nav">
            <li>
              <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                  <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
                –ú–æ—ó –∫–µ–π—Å–∏
              </a>
            </li>
            <li>
              <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"/>
                  <line x1="12" y1="8" x2="12" y2="12"/>
                  <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                –ü–æ—Ç—Ä–µ–±—É—é—Ç—å —É–≤–∞–≥–∏
                <span class="nav-badge">5</span>
              </a>
            </li>
            <li>
              <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                  <line x1="16" y1="2" x2="16" y2="6"/>
                  <line x1="8" y1="2" x2="8" y2="6"/>
                  <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
                SLA —Å–∫–æ—Ä–æ
                <span class="nav-badge">2</span>
              </a>
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <div class="sidebar-section-title">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</div>
          <ul class="sidebar-nav">
            <li>
              <a href="personal-settings.html">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="3"/>
                  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>
                –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="page-header">
        <div class="flex items-center justify-between">
          <div class="header-with-help">
            <div>
              <h2>–ö–µ–π—Å–∏</h2>
              <p class="text-sm text-muted">–û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —á–µ—Ä–≥–∞ ‚Äî 12 –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–µ–π—Å—ñ–≤</p>
            </div>
            <span class="help-trigger" data-help="cases-page" style="margin-left: 12px;">?</span>
          </div>
          <div class="btn-group">
            <button class="btn btn-secondary">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
              </svg>
              –§—ñ–ª—å—Ç—Ä–∏
            </button>
            <button class="btn btn-primary" onclick="openNewCaseModal()">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"/>
                <line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
              –ù–æ–≤–∏–π –∫–µ–π—Å
            </button>
          </div>
        </div>
      </header>

      <!-- Content -->
      <div class="page-content">
        <!-- Stats -->
        <div class="stats-grid">
          <div class="stat-card">
            <span class="help-trigger" data-help="approval-stat">?</span>
            <div class="stat-header">
              <span class="stat-label">–ü–æ—Ç—Ä–µ–±—É—é—Ç—å approval</span>
              <div class="stat-icon warning">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="9 11 12 14 22 4"/>
                  <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                </svg>
              </div>
            </div>
            <div class="stat-value">3</div>
            <div class="stat-change negative">–ü–æ—Ç—Ä—ñ–±–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è</div>
          </div>

          <div class="stat-card">
            <span class="help-trigger" data-help="sla-stat">?</span>
            <div class="stat-header">
              <span class="stat-label">SLA at risk</span>
              <div class="stat-icon danger">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"/>
                  <polyline points="12 6 12 12 16 14"/>
                </svg>
              </div>
            </div>
            <div class="stat-value">2</div>
            <div class="stat-change negative">&lt; 24 –≥–æ–¥–∏–Ω</div>
          </div>

          <div class="stat-card">
            <span class="help-trigger" data-help="active-stat">?</span>
            <div class="stat-header">
              <span class="stat-label">–ê–∫—Ç–∏–≤–Ω–∏—Ö –∫–µ–π—Å—ñ–≤</span>
              <div class="stat-icon primary">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                </svg>
              </div>
            </div>
            <div class="stat-value">12</div>
            <div class="stat-change positive">+3 –∑–∞ —Ç–∏–∂–¥–µ–Ω—å</div>
          </div>

          <div class="stat-card">
            <span class="help-trigger" data-help="completed-stat">?</span>
            <div class="stat-header">
              <span class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ —Ü—å–æ–≥–æ –º—ñ—Å—è—Ü—è</span>
              <div class="stat-icon success">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                  <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
              </div>
            </div>
            <div class="stat-value">28</div>
            <div class="stat-change positive">+15% vs –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π</div>
          </div>
        </div>

        <!-- Requires Approval Section -->
        <div class="inbox-section">
          <div class="inbox-section-header">
            <h3 class="inbox-section-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--warning);">
                <polyline points="9 11 12 14 22 4"/>
                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
              </svg>
              –ü–æ—Ç—Ä–µ–±—É—é—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
              <span class="inbox-section-count">3</span>
              <span class="help-trigger" data-help="approval-section">?</span>
            </h3>
          </div>
          
          <div class="card">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Case ID <span class="help-trigger" data-help="case-id">?</span></th>
                    <th>–ö–ª—ñ—î–Ω—Ç</th>
                    <th>–°—Ç–∞–Ω <span class="help-trigger" data-help="case-status">?</span></th>
                    <th>Approval <span class="help-trigger" data-help="approval-type">?</span></th>
                    <th>SLA <span class="help-trigger" data-help="sla-column">?</span></th>
                    <th>Owner</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02451</strong>
                      </div>
                    </td>
                    <td>ACME Ltd</td>
                    <td><span class="status-badge status-pending">QUOTE_APPROVAL_PENDING</span></td>
                    <td><span class="badge badge-warning">QUOTE_APPROVAL</span></td>
                    <td>
                      <span class="sla-warning flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <circle cx="12" cy="12" r="10"/>
                          <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        2d 4h
                      </span>
                    </td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–Ü–ü</span>
                        –Ü–≤–∞–Ω –ü.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-primary">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02448</strong>
                      </div>
                    </td>
                    <td>Global Trade LLC</td>
                    <td><span class="status-badge status-pending">DIMS_APPROVAL_PENDING</span></td>
                    <td><span class="badge badge-warning">DIMS_CHANGE_APPROVAL</span></td>
                    <td>
                      <span class="sla-danger flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <circle cx="12" cy="12" r="10"/>
                          <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        8h
                      </span>
                    </td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–ú–ö</span>
                        –ú–∞—Ä—ñ—è –ö.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-primary">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02445</strong>
                      </div>
                    </td>
                    <td>Tech Import UA</td>
                    <td><span class="status-badge status-pending">BL_REVIEW_PENDING</span></td>
                    <td><span class="badge badge-warning">BL_DRAFT_APPROVAL</span></td>
                    <td>
                      <span class="text-secondary flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <circle cx="12" cy="12" r="10"/>
                          <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        5d 2h
                      </span>
                    </td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–Ü–ü</span>
                        –Ü–≤–∞–Ω –ü.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-primary">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- In Progress Section -->
        <div class="inbox-section">
          <div class="inbox-section-header">
            <h3 class="inbox-section-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--accent);">
                <polyline points="23 4 23 10 17 10"/>
                <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
              </svg>
              –í —Ä–æ–±–æ—Ç—ñ
              <span class="inbox-section-count">6</span>
              <span class="help-trigger" data-help="in-progress-section">?</span>
            </h3>
          </div>
          
          <div class="card">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Case ID</th>
                    <th>–ö–ª—ñ—î–Ω—Ç</th>
                    <th>–°—Ç–∞–Ω</th>
                    <th>NBA</th>
                    <th>SLA</th>
                    <th>Owner</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02450</strong>
                      </div>
                    </td>
                    <td>–°–≤—ñ—Ç –¢–æ–≤–∞—Ä—ñ–≤</td>
                    <td><span class="status-badge status-open">WAITING_CLIENT_INFO</span></td>
                    <td>–û—á—ñ–∫—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∫–ª—ñ—î–Ω—Ç–∞</td>
                    <td>3d 8h</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–Ü–ü</span>
                        –Ü–≤–∞–Ω –ü.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-secondary">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02449</strong>
                      </div>
                    </td>
                    <td>–§–û–ü –ö–æ–≤–∞–ª–µ–Ω–∫–æ</td>
                    <td><span class="status-badge status-open">CLIENT_INFO_COLLECTED</span></td>
                    <td>–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–ø–∏—Ç —É 1–°</td>
                    <td>4d 2h</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–ú–ö</span>
                        –ú–∞—Ä—ñ—è –ö.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-secondary">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02447</strong>
                      </div>
                    </td>
                    <td>Electro UA</td>
                    <td><span class="status-badge status-open">WAREHOUSE_INSTRUCTIONS_SENT</span></td>
                    <td>–û—á—ñ–∫—É—î–º–æ –≥–∞–±–∞—Ä–∏—Ç–∏ —Å–∫–ª–∞–¥—É</td>
                    <td>6d</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–û–°</span>
                        –û–ª–µ–Ω–∞ –°.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-secondary">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02446</strong>
                      </div>
                    </td>
                    <td>Home Decor Inc</td>
                    <td><span class="status-badge status-open">QUOTE_SENT</span></td>
                    <td>–û—á—ñ–∫—É—î–º–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞</td>
                    <td>7d</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–Ü–ü</span>
                        –Ü–≤–∞–Ω –ü.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-secondary">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02444</strong>
                      </div>
                    </td>
                    <td>Fashion Import</td>
                    <td><span class="status-badge status-open">PRE_ARRIVAL_TASKS</span></td>
                    <td>–ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –±—Ä–æ–∫–µ—Ä—É</td>
                    <td>10d</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–ú–ö</span>
                        –ú–∞—Ä—ñ—è –ö.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-secondary">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02443</strong>
                      </div>
                    </td>
                    <td>Industrial Parts</td>
                    <td><span class="status-badge status-open">READY_FOR_CLEARANCE</span></td>
                    <td>–ì–æ—Ç–æ–≤–æ –¥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è</td>
                    <td>12d</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–û–°</span>
                        –û–ª–µ–Ω–∞ –°.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-secondary">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Waiting for External Section -->
        <div class="inbox-section">
          <div class="inbox-section-header">
            <h3 class="inbox-section-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--text-muted);">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
              </svg>
              –û—á—ñ–∫—É—é—Ç—å –∑–æ–≤–Ω—ñ—à–Ω—é –≤—ñ–¥–ø–æ–≤—ñ–¥—å
              <span class="inbox-section-count">3</span>
              <span class="help-trigger" data-help="waiting-section">?</span>
            </h3>
          </div>
          
          <div class="card">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Case ID</th>
                    <th>–ö–ª—ñ—î–Ω—Ç</th>
                    <th>–°—Ç–∞–Ω</th>
                    <th>–û—á—ñ–∫—É—î–º–æ</th>
                    <th>–û—á—ñ–∫—É–≤–∞–Ω–Ω—è</th>
                    <th>Owner</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr onclick="window.location='case-detail.html'" style="opacity: 0.7;">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02442</strong>
                      </div>
                    </td>
                    <td>Toys World</td>
                    <td><span class="status-badge status-blocked">WAITING_WAREHOUSE_DIMS</span></td>
                    <td>Yiwu Warehouse</td>
                    <td>3 –¥–Ω—ñ</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–Ü–ü</span>
                        –Ü–≤–∞–Ω –ü.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-ghost">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'" style="opacity: 0.7;">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02441</strong>
                      </div>
                    </td>
                    <td>Garden Tools UA</td>
                    <td><span class="status-badge status-blocked">WAITING_CLIENT_CONFIRMATION</span></td>
                    <td>–ö–ª—ñ—î–Ω—Ç</td>
                    <td>5 –¥–Ω—ñ–≤</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–ú–ö</span>
                        –ú–∞—Ä—ñ—è –ö.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-ghost">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                  <tr onclick="window.location='case-detail.html'" style="opacity: 0.7;">
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="case-type-badge">SEA</span>
                        <strong>F1-SEA-2026-02440</strong>
                      </div>
                    </td>
                    <td>Auto Parts Import</td>
                    <td><span class="status-badge status-blocked">BL_DRAFT_RECEIVED</span></td>
                    <td>–ó–ï–î</td>
                    <td>1 –¥–µ–Ω—å</td>
                    <td>
                      <div class="flex items-center gap-2">
                        <span class="avatar avatar-sm">–û–°</span>
                        –û–ª–µ–Ω–∞ –°.
                      </div>
                    </td>
                    <td>
                      <a href="case-detail.html" class="btn btn-sm btn-ghost">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
    </main>
  </div>

  <!-- Modal: –ù–æ–≤–∏–π –∫–µ–π—Å -->
  <div id="newCaseModal" class="modal-overlay" style="display: none;">
    <div class="modal">
      <div class="modal-header">
        <h3>–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –∫–µ–π—Å</h3>
        <button class="btn btn-icon btn-ghost" onclick="closeNewCaseModal()">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
      
      <div class="modal-body">
        <form id="newCaseForm">
          <!-- –¢–∏–ø –∫–µ–π—Å—É -->
          <div class="form-group">
            <label class="form-label" for="caseType">–¢–∏–ø –∫–µ–π—Å—É <span class="text-danger">*</span></label>
            <select class="form-select" id="caseType" required onchange="updateCaseTypeFields()">
              <option value="">–û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –∫–µ–π—Å—É...</option>
              <option value="F1_SEA_IMPORT">üö¢ –ú–æ—Ä—Å—å–∫–∏–π —ñ–º–ø–æ—Ä—Ç (–ö–∏—Ç–∞–π ‚Üí –£–∫—Ä–∞—ó–Ω–∞)</option>
              <option value="F1_AIR_IMPORT">‚úàÔ∏è –ê–≤—ñ–∞ —ñ–º–ø–æ—Ä—Ç</option>
              <option value="F1_RAIL_IMPORT">üöÇ –ó–∞–ª—ñ–∑–Ω–∏—á–Ω–∏–π —ñ–º–ø–æ—Ä—Ç</option>
              <option value="F1_AUTO_EXPORT">üöõ –ê–≤—Ç–æ –µ–∫—Å–ø–æ—Ä—Ç</option>
            </select>
            <p class="form-help" id="caseTypeHelp"></p>
          </div>

          <!-- –ö–ª—ñ—î–Ω—Ç -->
          <div class="form-group">
            <label class="form-label" for="clientSelect">–ö–ª—ñ—î–Ω—Ç <span class="text-danger">*</span></label>
            <div class="client-select-wrapper">
              <select class="form-select" id="clientSelect" required>
                <option value="">–û–±–µ—Ä—ñ—Ç—å –∫–ª—ñ—î–Ω—Ç–∞...</option>
                <option value="client_1">ACME Ltd</option>
                <option value="client_2">Global Trade LLC</option>
                <option value="client_3">Tech Import UA</option>
                <option value="client_4">–°–≤—ñ—Ç –¢–æ–≤–∞—Ä—ñ–≤</option>
                <option value="client_5">–§–û–ü –ö–æ–≤–∞–ª–µ–Ω–∫–æ</option>
                <option value="new">+ –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞</option>
              </select>
            </div>
          </div>

          <!-- –§–æ—Ä–º–∞ –Ω–æ–≤–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞ (–ø—Ä–∏—Ö–æ–≤–∞–Ω–∞) -->
          <div id="newClientFields" class="new-client-fields" style="display: none;">
            <div class="form-section-title">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              –ù–æ–≤–∏–π –∫–ª—ñ—î–Ω—Ç
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="newClientName">–ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó <span class="text-danger">*</span></label>
                <input type="text" class="form-input" id="newClientName" placeholder="–¢–û–í –ü—Ä–∏–∫–ª–∞–¥">
              </div>
              <div class="form-group">
                <label class="form-label" for="newClientContact">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ –æ—Å–æ–±–∞</label>
                <input type="text" class="form-input" id="newClientContact" placeholder="–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="newClientEmail">Email</label>
                <input type="email" class="form-input" id="newClientEmail" placeholder="client@example.com">
              </div>
              <div class="form-group">
                <label class="form-label" for="newClientPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input type="tel" class="form-input" id="newClientPhone" placeholder="+380 50 123 4567">
              </div>
            </div>
          </div>

          <!-- –î–∏–Ω–∞–º—ñ—á–Ω—ñ –ø–æ–ª—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–∏–ø—É –∫–µ–π—Å—É -->
          <div id="caseTypeFields" style="display: none;">
            
            <!-- –ü–æ–ª—è –¥–ª—è F1_SEA_IMPORT -->
            <div id="fields_F1_SEA_IMPORT" class="case-type-fields" style="display: none;">
              <div class="form-section-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                </svg>
                –î–∞–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–º–æ—Ä—Å—å–∫–∏–π —ñ–º–ø–æ—Ä—Ç)
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="originWarehouse">–°–∫–ª–∞–¥ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è <span class="text-danger">*</span></label>
                  <select class="form-select" id="originWarehouse">
                    <option value="">–û–±–µ—Ä—ñ—Ç—å —Å–∫–ª–∞–¥...</option>
                    <option value="YIWU">Yiwu (–ö–∏—Ç–∞–π)</option>
                    <option value="SHENZHEN">Shenzhen (–ö–∏—Ç–∞–π)</option>
                    <option value="GUANGZHOU">Guangzhou (–ö–∏—Ç–∞–π)</option>
                    <option value="OTHER">–Ü–Ω—à–∏–π</option>
                  </select>
                </div>
                <div class="form-group">
                  <label class="form-label" for="readyDate">–î–∞—Ç–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –≤–∞–Ω—Ç–∞–∂—É</label>
                  <input type="date" class="form-input" id="readyDate">
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="cargoDescription">–û–ø–∏—Å –≤–∞–Ω—Ç–∞–∂—É</label>
                <textarea class="form-textarea" id="cargoDescription" rows="2" placeholder="–û–ø–∏—à—ñ—Ç—å —Ç–æ–≤–∞—Ä, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º—ñ—Å—Ü—å, –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ..."></textarea>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="packagesCount">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –º—ñ—Å—Ü—å</label>
                  <input type="number" class="form-input" id="packagesCount" min="1" placeholder="10">
                </div>
                <div class="form-group">
                  <label class="form-label" for="brokerOwner">–ë—Ä–æ–∫–µ—Ä</label>
                  <select class="form-select" id="brokerOwner">
                    <option value="OUR">–ù–∞—à –±—Ä–æ–∫–µ—Ä</option>
                    <option value="CLIENT">–ë—Ä–æ–∫–µ—Ä –∫–ª—ñ—î–Ω—Ç–∞</option>
                  </select>
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">
                    <input type="checkbox" id="dangerousGoods"> –ù–µ–±–µ–∑–ø–µ—á–Ω–∏–π –≤–∞–Ω—Ç–∞–∂
                  </label>
                </div>
                <div class="form-group">
                  <label class="form-label">
                    <input type="checkbox" id="stackable" checked> –ú–æ–∂–Ω–∞ —à—Ç–∞–±–µ–ª—é–≤–∞—Ç–∏
                  </label>
                </div>
              </div>
            </div>

            <!-- –ü–æ–ª—è –¥–ª—è F1_AIR_IMPORT -->
            <div id="fields_F1_AIR_IMPORT" class="case-type-fields" style="display: none;">
              <div class="form-section-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"/>
                </svg>
                –î–∞–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–∞–≤—ñ–∞ —ñ–º–ø–æ—Ä—Ç)
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="airOriginCity">–ú—ñ—Å—Ç–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è</label>
                  <input type="text" class="form-input" id="airOriginCity" placeholder="–®–∞–Ω—Ö–∞–π, –ü–µ–∫—ñ–Ω...">
                </div>
                <div class="form-group">
                  <label class="form-label" for="airReadyDate">–î–∞—Ç–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ</label>
                  <input type="date" class="form-input" id="airReadyDate">
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="airCargoDescription">–û–ø–∏—Å –≤–∞–Ω—Ç–∞–∂—É</label>
                <textarea class="form-textarea" id="airCargoDescription" rows="2" placeholder="–û–ø–∏—à—ñ—Ç—å —Ç–æ–≤–∞—Ä..."></textarea>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="airWeightKg">–í–∞–≥–∞ (–∫–≥)</label>
                  <input type="number" class="form-input" id="airWeightKg" min="0.1" step="0.1" placeholder="25.5">
                </div>
                <div class="form-group">
                  <label class="form-label" for="airUrgency">–¢–µ—Ä–º—ñ–Ω–æ–≤—ñ—Å—Ç—å</label>
                  <select class="form-select" id="airUrgency">
                    <option value="STANDARD">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞</option>
                    <option value="EXPRESS">–ï–∫—Å–ø—Ä–µ—Å</option>
                    <option value="URGENT">–¢–µ—Ä–º—ñ–Ω–æ–≤–∞</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- –ü–æ–ª—è –¥–ª—è F1_RAIL_IMPORT -->
            <div id="fields_F1_RAIL_IMPORT" class="case-type-fields" style="display: none;">
              <div class="form-section-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="4" y="3" width="16" height="16" rx="2"/>
                  <path d="M4 11h16"/>
                  <path d="M12 3v8"/>
                  <path d="m8 19-2 3"/>
                  <path d="m18 22-2-3"/>
                </svg>
                –î–∞–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–∑–∞–ª—ñ–∑–Ω–∏—á–Ω–∏–π —ñ–º–ø–æ—Ä—Ç)
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="railOriginStation">–°—Ç–∞–Ω—Ü—ñ—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è</label>
                  <input type="text" class="form-input" id="railOriginStation" placeholder="Xian, Zhengzhou...">
                </div>
                <div class="form-group">
                  <label class="form-label" for="railDestStation">–°—Ç–∞–Ω—Ü—ñ—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è</label>
                  <input type="text" class="form-input" id="railDestStation" placeholder="–ö–∏—ó–≤-–õ—ñ—Å–∫–∏, –û–¥–µ—Å–∞...">
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="railContainerType">–¢–∏–ø –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞</label>
                <select class="form-select" id="railContainerType">
                  <option value="20FT">20' —Å—Ç–∞–Ω–¥–∞—Ä—Ç</option>
                  <option value="40FT">40' —Å—Ç–∞–Ω–¥–∞—Ä—Ç</option>
                  <option value="40HC">40' High Cube</option>
                </select>
              </div>
            </div>

            <!-- –ü–æ–ª—è –¥–ª—è F1_AUTO_EXPORT -->
            <div id="fields_F1_AUTO_EXPORT" class="case-type-fields" style="display: none;">
              <div class="form-section-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M10 17h4V5H2v12h3"/>
                  <path d="M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5v8h1"/>
                  <circle cx="7.5" cy="17.5" r="2.5"/>
                  <circle cx="17.5" cy="17.5" r="2.5"/>
                </svg>
                –î–∞–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–∞–≤—Ç–æ –µ–∫—Å–ø–æ—Ä—Ç)
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="autoOriginCity">–ú—ñ—Å—Ç–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</label>
                  <input type="text" class="form-input" id="autoOriginCity" placeholder="–ö–∏—ó–≤, –õ—å–≤—ñ–≤...">
                </div>
                <div class="form-group">
                  <label class="form-label" for="autoDestCountry">–ö—Ä–∞—ó–Ω–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è</label>
                  <input type="text" class="form-input" id="autoDestCountry" placeholder="–ü–æ–ª—å—â–∞, –ù—ñ–º–µ—á—á–∏–Ω–∞...">
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label" for="autoLoadDate">–î–∞—Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</label>
                  <input type="date" class="form-input" id="autoLoadDate">
                </div>
                <div class="form-group">
                  <label class="form-label" for="autoTruckType">–¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É</label>
                  <select class="form-select" id="autoTruckType">
                    <option value="TENT">–¢–µ–Ω—Ç</option>
                    <option value="REF">–†–µ—Ñ—Ä–∏–∂–µ—Ä–∞—Ç–æ—Ä</option>
                    <option value="CONTAINER">–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤–æ–∑</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–∏–º—ñ—Ç–∫–∏ -->
          <div class="form-group" id="notesGroup" style="display: none;">
            <label class="form-label" for="caseNotes">–ü—Ä–∏–º—ñ—Ç–∫–∏</label>
            <textarea class="form-textarea" id="caseNotes" rows="2" placeholder="–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è..."></textarea>
          </div>
        </form>
      </div>
      
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeNewCaseModal()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        <button class="btn btn-primary" onclick="createNewCase()">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="5" x2="12" y2="19"/>
            <line x1="5" y1="12" x2="19" y2="12"/>
          </svg>
          –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–µ–π—Å
        </button>
      </div>
    </div>
  </div>

  <style>
    /* ===== Onboarding Tips System ===== */
    .tip {
      position: absolute;
      background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
      color: white;
      padding: 12px 16px;
      border-radius: var(--radius-lg);
      font-size: 12px;
      max-width: 280px;
      box-shadow: 0 8px 32px rgba(0, 120, 212, 0.3);
      z-index: 100;
      animation: tipPulse 0.4s ease-out, tipGlow 2s ease-in-out infinite;
    }

    @keyframes tipPulse {
      0% {
        opacity: 0;
        transform: scale(0.9) translateY(10px);
      }
      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    @keyframes tipGlow {
      0%, 100% {
        box-shadow: 0 8px 32px rgba(0, 120, 212, 0.3);
      }
      50% {
        box-shadow: 0 8px 40px rgba(0, 120, 212, 0.5);
      }
    }

    .tip.hiding {
      animation: tipHide 0.3s ease-in forwards;
    }

    @keyframes tipHide {
      to {
        opacity: 0;
        transform: scale(0.95) translateY(-10px);
      }
    }

    .tip-content {
      display: flex;
      gap: 10px;
      align-items: flex-start;
    }

    .tip-icon {
      flex-shrink: 0;
      width: 24px;
      height: 24px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .tip-icon svg {
      width: 14px;
      height: 14px;
    }

    .tip-text {
      flex: 1;
    }

    .tip-title {
      font-weight: 600;
      font-size: 13px;
      margin-bottom: 4px;
    }

    .tip-description {
      opacity: 0.9;
      line-height: 1.4;
    }

    .tip-close {
      position: absolute;
      top: 8px;
      right: 8px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }

    .tip-close:hover {
      background: rgba(255, 255, 255, 0.35);
    }

    .tip-close svg {
      width: 12px;
      height: 12px;
    }

    /* Tip arrows */
    .tip::before {
      content: '';
      position: absolute;
      width: 12px;
      height: 12px;
      background: inherit;
      transform: rotate(45deg);
    }

    .tip.arrow-top::before {
      top: -6px;
      left: 24px;
    }

    .tip.arrow-bottom::before {
      bottom: -6px;
      left: 24px;
    }

    .tip.arrow-left::before {
      left: -6px;
      top: 16px;
    }

    .tip.arrow-right::before {
      right: -6px;
      top: 16px;
    }

    /* Tip positions */
    .tip-wrapper {
      position: relative;
      display: inline-block;
    }

    /* Step indicator */
    .tip-step {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 10px;
      opacity: 0.75;
      margin-top: 8px;
      padding-top: 8px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    .tip-step-dots {
      display: flex;
      gap: 4px;
    }

    .tip-step-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
    }

    .tip-step-dot.active {
      background: white;
    }

    /* Action buttons in tip */
    .tip-actions {
      display: flex;
      gap: 8px;
      margin-top: 10px;
    }

    .tip-btn {
      padding: 6px 12px;
      border-radius: var(--radius-sm);
      font-size: 11px;
      font-weight: 500;
      cursor: pointer;
      border: none;
      transition: all 0.2s;
    }

    .tip-btn-primary {
      background: white;
      color: #005a9e;
    }

    .tip-btn-primary:hover {
      background: rgba(255, 255, 255, 0.9);
    }

    .tip-btn-secondary {
      background: rgba(255, 255, 255, 0.15);
      color: white;
    }

    .tip-btn-secondary:hover {
      background: rgba(255, 255, 255, 0.25);
    }

    /* Tips tour overlay */
    .tips-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.3);
      z-index: 99;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
    }

    .tips-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }

    /* Highlighted element during tour */
    .tip-highlight {
      position: relative;
      z-index: 101;
      box-shadow: 0 0 0 4px rgba(0, 120, 212, 0.4);
      border-radius: var(--radius-md);
    }

    /* Welcome tip (centered) */
    .tip-welcome {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 360px;
      text-align: center;
      padding: 24px;
      border-radius: var(--radius-xl);
    }

    .tip-welcome::before {
      display: none;
    }

    .tip-welcome .tip-icon {
      width: 48px;
      height: 48px;
      margin: 0 auto 12px;
    }

    .tip-welcome .tip-icon svg {
      width: 28px;
      height: 28px;
    }

    /* ===== Static Help Triggers (?) ===== */
    .help-trigger {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      background: var(--bg-hover);
      border: 1px solid var(--divider);
      border-radius: 50%;
      color: var(--text-muted);
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin-left: 6px;
      flex-shrink: 0;
    }

    .help-trigger:hover {
      background: var(--accent);
      border-color: var(--accent);
      color: white;
      transform: scale(1.1);
    }

    .help-trigger.active {
      background: var(--accent);
      border-color: var(--accent);
      color: white;
    }

    /* Help tooltip popup */
    .help-popup {
      position: absolute;
      background: var(--bg-editor);
      border: 1px solid var(--divider);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-popup);
      padding: 12px 14px;
      font-size: 12px;
      max-width: 300px;
      z-index: 200;
      animation: helpPopupIn 0.2s ease;
    }

    @keyframes helpPopupIn {
      from {
        opacity: 0;
        transform: translateY(-8px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .help-popup.closing {
      animation: helpPopupOut 0.15s ease forwards;
    }

    @keyframes helpPopupOut {
      to {
        opacity: 0;
        transform: translateY(-8px);
      }
    }

    .help-popup::before {
      content: '';
      position: absolute;
      top: -6px;
      left: 20px;
      width: 10px;
      height: 10px;
      background: var(--bg-editor);
      border-left: 1px solid var(--divider);
      border-top: 1px solid var(--divider);
      transform: rotate(45deg);
    }

    .help-popup.arrow-bottom::before {
      top: auto;
      bottom: -6px;
      border-left: none;
      border-top: none;
      border-right: 1px solid var(--divider);
      border-bottom: 1px solid var(--divider);
    }

    .help-popup-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--divider);
    }

    .help-popup-icon {
      width: 24px;
      height: 24px;
      background: var(--accent-light);
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--accent);
    }

    .help-popup-icon svg {
      width: 14px;
      height: 14px;
    }

    .help-popup-title {
      font-weight: 600;
      color: var(--text);
    }

    .help-popup-content {
      color: var(--text-secondary);
      line-height: 1.5;
    }

    .help-popup-content ul {
      margin: 8px 0 0 0;
      padding-left: 16px;
    }

    .help-popup-content li {
      margin-bottom: 4px;
    }

    .help-popup-content code {
      background: var(--bg-panel);
      padding: 1px 4px;
      border-radius: 3px;
      font-size: 11px;
      font-family: var(--font-mono);
    }

    .help-popup-footer {
      margin-top: 10px;
      padding-top: 8px;
      border-top: 1px solid var(--divider);
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .help-popup-footer kbd {
      background: var(--bg-panel);
      border: 1px solid var(--divider);
      border-radius: 3px;
      padding: 1px 5px;
      font-size: 10px;
      font-family: var(--font-mono);
    }

    /* Header with help */
    .header-with-help {
      display: flex;
      align-items: center;
    }

    /* Stat card help positioning */
    .stat-card {
      position: relative;
    }

    .stat-card .help-trigger {
      position: absolute;
      top: 12px;
      right: 12px;
    }

    /* Section title with help */
    .inbox-section-title {
      display: flex;
      align-items: center;
    }

    /* Table header help */
    th .help-trigger {
      margin-left: 4px;
    }

    /* Show all tips button */
    .show-tips-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: var(--radius-lg);
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: var(--shadow-md);
      transition: all 0.2s;
      z-index: 50;
    }

    .show-tips-btn:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: var(--shadow-popup);
    }

    .show-tips-btn svg {
      width: 16px;
      height: 16px;
    }

    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }

    .modal {
      background: var(--bg-editor);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-popup);
      width: 100%;
      max-width: 600px;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      animation: modalSlideIn 0.2s ease;
    }

    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      border-bottom: 1px solid var(--divider);
    }

    .modal-header h3 {
      font-size: 14px;
      font-weight: 600;
      margin: 0;
    }

    .modal-body {
      padding: 20px;
      overflow-y: auto;
      flex: 1;
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      padding: 16px 20px;
      border-top: 1px solid var(--divider);
      background: var(--bg-panel);
      border-radius: 0 0 var(--radius-xl) var(--radius-xl);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .form-section-title {
      font-size: 12px;
      font-weight: 600;
      color: var(--text);
      margin: 16px 0 12px;
      padding: 8px 12px;
      background: var(--bg-panel);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      gap: 8px;
      border: 1px solid var(--divider);
    }

    .form-section-title svg {
      color: var(--accent);
    }

    .new-client-fields {
      background: var(--accent-light);
      padding: 12px;
      border-radius: var(--radius-lg);
      margin-bottom: 12px;
      border: 1px solid #b3d4fc;
    }

    .new-client-fields .form-section-title {
      background: white;
      margin-top: 0;
    }

    .case-type-fields {
      animation: fadeIn 0.2s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .form-label input[type="checkbox"] {
      margin-right: 8px;
      transform: translateY(1px);
    }

    @media (max-width: 600px) {
      .form-row {
        grid-template-columns: 1fr;
      }
      
      .modal {
        max-height: 95vh;
      }
    }
  </style>

  <script>
    // –í—ñ–¥–∫—Ä–∏—Ç–∏ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ
    function openNewCaseModal() {
      document.getElementById('newCaseModal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    // –ó–∞–∫—Ä–∏—Ç–∏ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ
    function closeNewCaseModal() {
      document.getElementById('newCaseModal').style.display = 'none';
      document.body.style.overflow = '';
      resetNewCaseForm();
    }

    // –°–∫–∏–Ω—É—Ç–∏ —Ñ–æ—Ä–º—É
    function resetNewCaseForm() {
      document.getElementById('newCaseForm').reset();
      document.getElementById('newClientFields').style.display = 'none';
      document.getElementById('caseTypeFields').style.display = 'none';
      document.getElementById('notesGroup').style.display = 'none';
      document.getElementById('caseTypeHelp').textContent = '';
      
      // –°—Ö–æ–≤–∞—Ç–∏ –≤—Å—ñ –ø–æ–ª—è —Ç–∏–ø—ñ–≤ –∫–µ–π—Å—ñ–≤
      document.querySelectorAll('.case-type-fields').forEach(el => {
        el.style.display = 'none';
      });
    }

    // –û–Ω–æ–≤–∏—Ç–∏ –ø–æ–ª—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–∏–ø—É –∫–µ–π—Å—É
    function updateCaseTypeFields() {
      const caseType = document.getElementById('caseType').value;
      const fieldsContainer = document.getElementById('caseTypeFields');
      const notesGroup = document.getElementById('notesGroup');
      const helpText = document.getElementById('caseTypeHelp');
      
      // –°—Ö–æ–≤–∞—Ç–∏ –≤—Å—ñ –ø–æ–ª—è —Ç–∏–ø—ñ–≤ –∫–µ–π—Å—ñ–≤
      document.querySelectorAll('.case-type-fields').forEach(el => {
        el.style.display = 'none';
      });
      
      if (caseType) {
        fieldsContainer.style.display = 'block';
        notesGroup.style.display = 'block';
        
        // –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø–æ–ª—è
        const typeFields = document.getElementById('fields_' + caseType);
        if (typeFields) {
          typeFields.style.display = 'block';
        }
        
        // –ü—ñ–¥–∫–∞–∑–∫–∞ –¥–ª—è —Ç–∏–ø—É –∫–µ–π—Å—É
        const helpTexts = {
          'F1_SEA_IMPORT': '–ú–æ—Ä—Å—å–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –∑—ñ —Å–∫–ª–∞–¥—ñ–≤ –ö–∏—Ç–∞—é (Yiwu, Shenzhen) –¥–æ –ø–æ—Ä—Ç—ñ–≤ –£–∫—Ä–∞—ó–Ω–∏.',
          'F1_AIR_IMPORT': '–ê–≤—ñ–∞–ø–µ—Ä–µ–≤–µ–∑–µ–Ω–Ω—è –¥–ª—è —Ç–µ—Ä–º—ñ–Ω–æ–≤–∏—Ö —Ç–∞ –ª–µ–≥–∫–∏—Ö –≤–∞–Ω—Ç–∞–∂—ñ–≤ –∑ –±—É–¥—å-—è–∫–∏—Ö –∞–µ—Ä–æ–ø–æ—Ä—Ç—ñ–≤ —Å–≤—ñ—Ç—É.',
          'F1_RAIL_IMPORT': '–ó–∞–ª—ñ–∑–Ω–∏—á–Ω—ñ –ø–µ—Ä–µ–≤–µ–∑–µ–Ω–Ω—è –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞—Ö China Railway Express.',
          'F1_AUTO_EXPORT': '–ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω—ñ –ø–µ—Ä–µ–≤–µ–∑–µ–Ω–Ω—è –∑ –£–∫—Ä–∞—ó–Ω–∏ –¥–æ –∫—Ä–∞—ó–Ω –Ñ–≤—Ä–æ–ø–∏.'
        };
        helpText.textContent = helpTexts[caseType] || '';
      } else {
        fieldsContainer.style.display = 'none';
        notesGroup.style.display = 'none';
        helpText.textContent = '';
      }
    }

    // –ü–æ–∫–∞–∑–∞—Ç–∏/—Å—Ö–æ–≤–∞—Ç–∏ –ø–æ–ª—è –Ω–æ–≤–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞
    document.getElementById('clientSelect').addEventListener('change', function() {
      const newClientFields = document.getElementById('newClientFields');
      if (this.value === 'new') {
        newClientFields.style.display = 'block';
      } else {
        newClientFields.style.display = 'none';
      }
    });

    // –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –∫–µ–π—Å (–¥–µ–º–æ)
    function createNewCase() {
      const caseType = document.getElementById('caseType').value;
      const clientSelect = document.getElementById('clientSelect').value;
      
      if (!caseType) {
        alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –∫–µ–π—Å—É');
        return;
      }
      
      if (!clientSelect) {
        alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä—ñ—Ç—å –∞–±–æ –¥–æ–¥–∞–π—Ç–µ –∫–ª—ñ—î–Ω—Ç–∞');
        return;
      }
      
      if (clientSelect === 'new') {
        const newClientName = document.getElementById('newClientName').value;
        if (!newClientName) {
          alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∫–∞–∂—ñ—Ç—å –Ω–∞–∑–≤—É –Ω–æ–≤–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞');
          return;
        }
      }
      
      // –î–µ–º–æ: –ø–æ–∫–∞–∑—É—î–º–æ —É—Å–ø—ñ—à–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
      const caseTypeNames = {
        'F1_SEA_IMPORT': '–ú–æ—Ä—Å—å–∫–∏–π —ñ–º–ø–æ—Ä—Ç',
        'F1_AIR_IMPORT': '–ê–≤—ñ–∞ —ñ–º–ø–æ—Ä—Ç',
        'F1_RAIL_IMPORT': '–ó–∞–ª—ñ–∑–Ω–∏—á–Ω–∏–π —ñ–º–ø–æ—Ä—Ç',
        'F1_AUTO_EXPORT': '–ê–≤—Ç–æ –µ–∫—Å–ø–æ—Ä—Ç'
      };
      
      const newCaseNumber = 'F1-SEA-2026-' + String(Math.floor(Math.random() * 9000) + 1000).padStart(5, '0');
      
      alert(`‚úÖ –ö–µ–π—Å —Å—Ç–≤–æ—Ä–µ–Ω–æ!\n\n–ù–æ–º–µ—Ä: ${newCaseNumber}\n–¢–∏–ø: ${caseTypeNames[caseType]}\n\n–ö–µ–π—Å –ø–µ—Ä–µ–π—à–æ–≤ —É —Å—Ç–∞–Ω: WAITING_CLIENT_INFO\n\n–ú–µ–Ω–µ–¥–∂–µ—Ä—É –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ –∑–∞–¥–∞—á—É: "–ó—ñ–±—Ä–∞—Ç–∏ –¥–∞–Ω—ñ –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç–∞"`);
      
      closeNewCaseModal();
      
      // –í —Ä–µ–∞–ª—å–Ω–æ–º—É –¥–æ–¥–∞—Ç–∫—É —Ç—É—Ç –±—É–≤ –±–∏ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –Ω–æ–≤–æ–≥–æ –∫–µ–π—Å—É
      // window.location.href = 'case-detail.html?id=' + newCaseNumber;
    }

    // –ó–∞–∫—Ä–∏—Ç–∏ –º–æ–¥–∞–ª –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ overlay
    document.getElementById('newCaseModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeNewCaseModal();
      }
    });

    // –ó–∞–∫—Ä–∏—Ç–∏ –º–æ–¥–∞–ª –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ Escape
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        const modal = document.getElementById('newCaseModal');
        if (modal.style.display === 'flex') {
          closeNewCaseModal();
        }
      }
    });

    // ===== ONBOARDING TIPS SYSTEM =====
    const TipsManager = {
      storageKey: 'imcp_onboarding_tips',
      tips: [],
      currentStep: 0,
      tourMode: false,

      init() {
        this.loadState();
        this.createTips();
        this.createShowTipsButton();
        
        // –ü–æ–∫–∞–∑–∞—Ç–∏ tips –ø—ñ—Å–ª—è –Ω–µ–≤–µ–ª–∏–∫–æ—ó –∑–∞—Ç—Ä–∏–º–∫–∏
        setTimeout(() => {
          if (!this.allTipsDismissed()) {
            this.showInitialTips();
          }
        }, 500);
      },

      loadState() {
        try {
          const saved = localStorage.getItem(this.storageKey);
          this.dismissedTips = saved ? JSON.parse(saved) : {};
        } catch (e) {
          this.dismissedTips = {};
        }
      },

      saveState() {
        try {
          localStorage.setItem(this.storageKey, JSON.stringify(this.dismissedTips));
        } catch (e) {
          console.warn('Could not save tips state');
        }
      },

      allTipsDismissed() {
        return this.tips.every(tip => this.dismissedTips[tip.id]);
      },

      createTips() {
        // –í–∏–∑–Ω–∞—á–∞—î–º–æ –ø—ñ–¥–∫–∞–∑–∫–∏ –¥–ª—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        this.tips = [
          {
            id: 'tip-new-case',
            targetSelector: '.btn-primary',
            title: '–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∫–µ–π—Å—É',
            description: '–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å —Ç—É—Ç, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –∫–µ–π—Å. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏–∑–Ω–∞—á–∏—Ç—å –Ω–æ–º–µ—Ä —Ç–∞ –≤–∏–∑–Ω–∞—á–∏—Ç—å –ø–µ—Ä—à–∏–π –∫—Ä–æ–∫.',
            position: 'bottom-right',
            arrow: 'top',
            icon: 'plus'
          },
          {
            id: 'tip-approval-section',
            targetSelector: '.inbox-section:first-child',
            title: '–ü–æ—Ç—Ä–µ–±—É—é—Ç—å –≤–∞—à–æ—ó —É–≤–∞–≥–∏',
            description: '–¢—É—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –∫–µ–π—Å–∏, —è–∫—ñ –æ—á—ñ–∫—É—é—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è. –ß–µ—Ä–≤–æ–Ω–∏–π SLA –æ–∑–Ω–∞—á–∞—î —Ç–µ—Ä–º—ñ–Ω–æ–≤—ñ—Å—Ç—å.',
            position: 'inside-top',
            arrow: 'none',
            icon: 'alert'
          },
          {
            id: 'tip-stats',
            targetSelector: '.stats-grid',
            title: '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ–π',
            description: '–®–≤–∏–¥–∫–∏–π –æ–≥–ª—è–¥ –∫–ª—é—á–æ–≤–∏—Ö –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤: approval requests, SLA at risk, –∞–∫—Ç–∏–≤–Ω—ñ –∫–µ–π—Å–∏.',
            position: 'bottom-left',
            arrow: 'top',
            icon: 'chart'
          },
          {
            id: 'tip-filters',
            targetSelector: '.sidebar-section:first-of-type',
            title: '–®–≤–∏–¥–∫—ñ —Ñ—ñ–ª—å—Ç—Ä–∏',
            description: '–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ñ—ñ–ª—å—Ç—Ä–∏ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ—à—É–∫—É –ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö –∫–µ–π—Å—ñ–≤: –º–æ—ó –∫–µ–π—Å–∏, SLA —Å–∫–æ—Ä–æ —Ç–æ—â–æ.',
            position: 'right',
            arrow: 'left',
            icon: 'filter'
          }
        ];
      },

      createShowTipsButton() {
        const btn = document.createElement('button');
        btn.className = 'show-tips-btn';
        btn.id = 'showTipsBtn';
        btn.innerHTML = `
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"/>
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
            <line x1="12" y1="17" x2="12.01" y2="17"/>
          </svg>
          –ü—ñ–¥–∫–∞–∑–∫–∏
        `;
        btn.onclick = () => this.startTour();
        document.body.appendChild(btn);
      },

      showInitialTips() {
        // –ü–æ–∫–∞–∑—É—î–º–æ –ø–µ—Ä—à–∏–π –Ω–µ –∑–∞–∫—Ä–∏—Ç–∏–π tip
        const firstActiveTip = this.tips.find(tip => !this.dismissedTips[tip.id]);
        if (firstActiveTip) {
          this.showTip(firstActiveTip, false);
        }
      },

      showTip(tipConfig, isTour = false) {
        const target = document.querySelector(tipConfig.targetSelector);
        if (!target) return;

        // –í–∏–¥–∞–ª—è—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ tips
        this.hideAllTips();

        const tip = document.createElement('div');
        tip.className = `tip arrow-${tipConfig.arrow}`;
        tip.id = tipConfig.id;
        tip.dataset.tipId = tipConfig.id;

        const iconSvg = this.getIcon(tipConfig.icon);
        const stepIndicator = isTour ? this.getStepIndicator() : '';

        tip.innerHTML = `
          <button class="tip-close" onclick="TipsManager.dismissTip('${tipConfig.id}')">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"/>
              <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
          </button>
          <div class="tip-content">
            <div class="tip-icon">${iconSvg}</div>
            <div class="tip-text">
              <div class="tip-title">${tipConfig.title}</div>
              <div class="tip-description">${tipConfig.description}</div>
              ${isTour ? `
                <div class="tip-actions">
                  ${this.currentStep > 0 ? '<button class="tip-btn tip-btn-secondary" onclick="TipsManager.prevStep()">‚Üê –ù–∞–∑–∞–¥</button>' : ''}
                  ${this.currentStep < this.tips.length - 1 
                    ? '<button class="tip-btn tip-btn-primary" onclick="TipsManager.nextStep()">–î–∞–ª—ñ ‚Üí</button>'
                    : '<button class="tip-btn tip-btn-primary" onclick="TipsManager.endTour()">–ì–æ—Ç–æ–≤–æ ‚úì</button>'}
                </div>
              ` : ''}
              ${stepIndicator}
            </div>
          </div>
        `;

        document.body.appendChild(tip);

        // –ü–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è
        this.positionTip(tip, target, tipConfig.position);

        // –ü—ñ–¥—Å–≤—ñ—Ç–∫–∞ target –µ–ª–µ–º–µ–Ω—Ç–∞ –≤ tour mode
        if (isTour) {
          target.classList.add('tip-highlight');
        }
      },

      positionTip(tip, target, position) {
        const targetRect = target.getBoundingClientRect();
        const tipRect = tip.getBoundingClientRect();
        
        let top, left;

        switch (position) {
          case 'bottom-right':
            top = targetRect.bottom + 12;
            left = targetRect.right - tipRect.width;
            break;
          case 'bottom-left':
            top = targetRect.bottom + 12;
            left = targetRect.left;
            break;
          case 'inside-top':
            top = targetRect.top + 60;
            left = targetRect.left + 20;
            break;
          case 'right':
            top = targetRect.top;
            left = targetRect.right + 12;
            break;
          case 'left':
            top = targetRect.top;
            left = targetRect.left - tipRect.width - 12;
            break;
          default:
            top = targetRect.bottom + 12;
            left = targetRect.left;
        }

        // –ü–µ—Ä–µ–∫–æ–Ω—É—î–º–æ—Å—å, —â–æ tip –≤ –º–µ–∂–∞—Ö –µ–∫—Ä–∞–Ω—É
        const padding = 16;
        left = Math.max(padding, Math.min(left, window.innerWidth - tipRect.width - padding));
        top = Math.max(padding, Math.min(top, window.innerHeight - tipRect.height - padding));

        tip.style.position = 'fixed';
        tip.style.top = `${top}px`;
        tip.style.left = `${left}px`;
      },

      getIcon(iconName) {
        const icons = {
          plus: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>',
          alert: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
          chart: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>',
          filter: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>',
          info: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>'
        };
        return icons[iconName] || icons.info;
      },

      getStepIndicator() {
        if (!this.tourMode) return '';
        
        const dots = this.tips.map((_, i) => 
          `<span class="tip-step-dot ${i === this.currentStep ? 'active' : ''}"></span>`
        ).join('');
        
        return `
          <div class="tip-step">
            <div class="tip-step-dots">${dots}</div>
            <span>${this.currentStep + 1} –∑ ${this.tips.length}</span>
          </div>
        `;
      },

      dismissTip(tipId) {
        const tip = document.querySelector(`[data-tip-id="${tipId}"]`);
        if (tip) {
          tip.classList.add('hiding');
          setTimeout(() => tip.remove(), 300);
        }

        // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤ localStorage
        this.dismissedTips[tipId] = true;
        this.saveState();

        // –ó–Ω—ñ–º–∞—î–º–æ –ø—ñ–¥—Å–≤—ñ—Ç–∫—É
        document.querySelectorAll('.tip-highlight').forEach(el => el.classList.remove('tip-highlight'));

        if (this.tourMode) {
          this.endTour();
        }
      },

      hideAllTips() {
        document.querySelectorAll('.tip').forEach(tip => tip.remove());
        document.querySelectorAll('.tip-highlight').forEach(el => el.classList.remove('tip-highlight'));
      },

      startTour() {
        this.tourMode = true;
        this.currentStep = 0;
        
        // –°—Ç–≤–æ—Ä—é—î–º–æ overlay
        let overlay = document.querySelector('.tips-overlay');
        if (!overlay) {
          overlay = document.createElement('div');
          overlay.className = 'tips-overlay';
          overlay.onclick = () => this.endTour();
          document.body.appendChild(overlay);
        }
        overlay.classList.add('active');

        this.showCurrentTourStep();
      },

      showCurrentTourStep() {
        if (this.currentStep >= 0 && this.currentStep < this.tips.length) {
          this.showTip(this.tips[this.currentStep], true);
          
          // –°–∫—Ä–æ–ª–∏–º–æ –¥–æ –µ–ª–µ–º–µ–Ω—Ç–∞
          const target = document.querySelector(this.tips[this.currentStep].targetSelector);
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
        }
      },

      nextStep() {
        document.querySelectorAll('.tip-highlight').forEach(el => el.classList.remove('tip-highlight'));
        this.currentStep++;
        if (this.currentStep < this.tips.length) {
          this.showCurrentTourStep();
        } else {
          this.endTour();
        }
      },

      prevStep() {
        document.querySelectorAll('.tip-highlight').forEach(el => el.classList.remove('tip-highlight'));
        if (this.currentStep > 0) {
          this.currentStep--;
          this.showCurrentTourStep();
        }
      },

      endTour() {
        this.tourMode = false;
        this.hideAllTips();
        
        const overlay = document.querySelector('.tips-overlay');
        if (overlay) {
          overlay.classList.remove('active');
        }
      },

      resetAllTips() {
        this.dismissedTips = {};
        this.saveState();
        this.showInitialTips();
      }
    };

    // ===== STATIC HELP SYSTEM =====
    const HelpManager = {
      activePopup: null,
      activeTrigger: null,

      // –î–æ–≤—ñ–¥–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
      helpContent: {
        // –°—Ç–æ—Ä—ñ–Ω–∫–∞
        'cases-page': {
          title: '–°—Ç–æ—Ä—ñ–Ω–∫–∞ "–ö–µ–π—Å–∏"',
          icon: 'folder',
          content: `
            <p>–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤—Å—ñ–º–∞ –∫–µ–π—Å–∞–º–∏. –¢—É—Ç –≤–∏ –º–æ–∂–µ—Ç–µ:</p>
            <ul>
              <li>–ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ñ –∫–µ–π—Å–∏ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏</li>
              <li>–°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫–µ–π—Å–∏</li>
              <li>–í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ SLA —Ç–∞ —Å—Ç–∞—Ç—É—Å–∏</li>
              <li>–®–≤–∏–¥–∫–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –¥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ –∫–µ–π—Å—É</li>
            </ul>
          `,
          shortcut: 'G ‚Üí C'
        },

        // –°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –∫–∞—Ä—Ç–∫–∏
        'approval-stat': {
          title: '–ü–æ—Ç—Ä–µ–±—É—é—Ç—å Approval',
          icon: 'check',
          content: `
            <p>–ö–µ–π—Å–∏, —è–∫—ñ –æ—á—ñ–∫—É—é—Ç—å –≤–∞—à–æ–≥–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∞–±–æ —Ä—ñ—à–µ–Ω–Ω—è.</p>
            <ul>
              <li><strong>QUOTE_APPROVAL</strong> ‚Äî –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ü—ñ–Ω–∏</li>
              <li><strong>DIMS_CHANGE</strong> ‚Äî –∑–º—ñ–Ω–∞ –≥–∞–±–∞—Ä–∏—Ç—ñ–≤</li>
              <li><strong>BL_DRAFT</strong> ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ B/L</li>
            </ul>
            <p>–†–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ approval –∑–∞–ø–∏—Ç–∏ —â–æ–¥–Ω—è.</p>
          `
        },
        'sla-stat': {
          title: 'SLA at Risk',
          icon: 'clock',
          content: `
            <p>–ö–µ–π—Å–∏, —É —è–∫–∏—Ö –∑–∞–ª–∏—à–∏–ª–æ—Å—å –º–µ–Ω—à–µ 24 –≥–æ–¥–∏–Ω –¥–æ –ø–æ—Ä—É—à–µ–Ω–Ω—è SLA.</p>
            <p><strong>–ö–æ–ª—å–æ—Ä–∏ SLA:</strong></p>
            <ul>
              <li>üü¢ –ó–µ–ª–µ–Ω–∏–π ‚Äî –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —á–∞—Å—É</li>
              <li>üü° –ñ–æ–≤—Ç–∏–π ‚Äî –º–µ–Ω—à–µ 48 –≥–æ–¥–∏–Ω</li>
              <li>üî¥ –ß–µ—Ä–≤–æ–Ω–∏–π ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ, –º–µ–Ω—à–µ 24 –≥–æ–¥–∏–Ω</li>
            </ul>
          `
        },
        'active-stat': {
          title: '–ê–∫—Ç–∏–≤–Ω—ñ –∫–µ–π—Å–∏',
          icon: 'folder',
          content: `
            <p>–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–µ–π—Å—ñ–≤ —É —Å—Ç–∞—Ç—É—Å–∞—Ö, —â–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Ä–æ–±–æ—Ç–∏.</p>
            <p>–ù–µ –≤–∫–ª—é—á–∞—î:</p>
            <ul>
              <li>–ó–∞–≤–µ—Ä—à–µ–Ω—ñ –∫–µ–π—Å–∏ (COMPLETED)</li>
              <li>–°–∫–∞—Å–æ–≤–∞–Ω—ñ –∫–µ–π—Å–∏ (CANCELLED)</li>
              <li>–ê—Ä—Ö—ñ–≤–æ–≤–∞–Ω—ñ –∫–µ–π—Å–∏</li>
            </ul>
          `
        },
        'completed-stat': {
          title: '–ó–∞–≤–µ—Ä—à–µ–Ω–æ —Ü—å–æ–≥–æ –º—ñ—Å—è—Ü—è',
          icon: 'check',
          content: `
            <p>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —É—Å–ø—ñ—à–Ω–æ –∑–∞–∫—Ä–∏—Ç–∏—Ö –∫–µ–π—Å—ñ–≤ –∑–∞ –ø–æ—Ç–æ—á–Ω–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–∏–π –º—ñ—Å—è—Ü—å.</p>
            <p>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è <code>+15%</code> –ø–æ–∫–∞–∑—É—î –¥–∏–Ω–∞–º—ñ–∫—É –≤—ñ–¥–Ω–æ—Å–Ω–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –º—ñ—Å—è—Ü—è.</p>
          `
        },

        // –°–µ–∫—Ü—ñ—ó —Ç–∞–±–ª–∏—Ü—å
        'approval-section': {
          title: '–°–µ–∫—Ü—ñ—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—å',
          icon: 'alert',
          content: `
            <p>–ö–µ–π—Å–∏, —è–∫—ñ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ —ñ –æ—á—ñ–∫—É—é—Ç—å –≤–∞—à–æ–≥–æ —Ä—ñ—à–µ–Ω–Ω—è.</p>
            <p><strong>–¢–∏–ø–∏ approval:</strong></p>
            <ul>
              <li><strong>QUOTE_APPROVAL</strong> ‚Äî –∫–ª—ñ—î–Ω—Ç –æ—Ç—Ä–∏–º–∞–≤ —Ü—ñ–Ω—É, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∞–±–æ –≤—ñ–¥—Ö–∏–ª–∏—Ç–∏</li>
              <li><strong>DIMS_CHANGE</strong> ‚Äî —Å–∫–ª–∞–¥ –≤–∏–º—ñ—Ä—è–≤ —ñ–Ω—à—ñ –≥–∞–±–∞—Ä–∏—Ç–∏, –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ü—ñ–Ω—É</li>
              <li><strong>BL_DRAFT</strong> ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–Ω–µ—Ç–∫–∏ –∫–æ–Ω–æ—Å–∞–º–µ–Ω—Ç—É</li>
            </ul>
          `
        },
        'in-progress-section': {
          title: '–ö–µ–π—Å–∏ –≤ —Ä–æ–±–æ—Ç—ñ',
          icon: 'progress',
          content: `
            <p>–ê–∫—Ç–∏–≤–Ω—ñ –∫–µ–π—Å–∏, –Ω–∞–¥ —è–∫–∏–º–∏ –∑–∞—Ä–∞–∑ –≤–µ–¥–µ—Ç—å—Å—è —Ä–æ–±–æ—Ç–∞.</p>
            <p><strong>NBA</strong> (Next Best Action) ‚Äî –ø–æ–∫–∞–∑—É—î –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫, —è–∫–∏–π –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏.</p>
            <p>–ö–µ–π—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–æ—Ä—Ç—É—é—Ç—å—Å—è –∑–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º SLA.</p>
          `
        },
        'waiting-section': {
          title: '–û—á—ñ–∫—É—é—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å',
          icon: 'clock',
          content: `
            <p>–ö–µ–π—Å–∏, –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è–º –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—é —Å—Ç–æ—Ä–æ–Ω—É:</p>
            <ul>
              <li><strong>–ö–ª—ñ—î–Ω—Ç</strong> ‚Äî –æ—á—ñ–∫—É—î–º–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∞–±–æ –¥–∞–Ω—ñ</li>
              <li><strong>–°–∫–ª–∞–¥</strong> ‚Äî –æ—á—ñ–∫—É—î–º–æ –≥–∞–±–∞—Ä–∏—Ç–∏ –∞–±–æ —Ñ–æ—Ç–æ</li>
              <li><strong>–ü–µ—Ä–µ–≤—ñ–∑–Ω–∏–∫</strong> ‚Äî –æ—á—ñ–∫—É—î–º–æ tracking –∞–±–æ ETD</li>
            </ul>
            <p>SLA –ø—Ä–∏–∑—É–ø–∏–Ω—è—î—Ç—å—Å—è –Ω–∞ —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è.</p>
          `
        },

        // –ö–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—ñ
        'case-id': {
          title: 'Case ID',
          icon: 'info',
          content: `
            <p>–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–µ–π—Å—É.</p>
            <p><strong>–§–æ—Ä–º–∞—Ç:</strong> <code>F1-XXX-YYYY-NNNNN</code></p>
            <ul>
              <li><strong>F1</strong> ‚Äî –∫–æ–¥ –∫–æ–º–ø–∞–Ω—ñ—ó</li>
              <li><strong>XXX</strong> ‚Äî —Ç–∏–ø (SEA, AIR, RAIL, AUTO)</li>
              <li><strong>YYYY</strong> ‚Äî —Ä—ñ–∫</li>
              <li><strong>NNNNN</strong> ‚Äî –ø–æ—Ä—è–¥–∫–æ–≤–∏–π –Ω–æ–º–µ—Ä</li>
            </ul>
          `
        },
        'case-status': {
          title: '–°—Ç–∞—Ç—É—Å –∫–µ–π—Å—É',
          icon: 'info',
          content: `
            <p>–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω –∫–µ–π—Å—É –≤ –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—ñ.</p>
            <p><strong>–û—Å–Ω–æ–≤–Ω—ñ –≥—Ä—É–ø–∏ —Å—Ç–∞—Ç—É—Å—ñ–≤:</strong></p>
            <ul>
              <li>üîµ <strong>OPEN</strong> ‚Äî –≤ –∞–∫—Ç–∏–≤–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ</li>
              <li>üü° <strong>PENDING</strong> ‚Äî –æ—á—ñ–∫—É—î –¥—ñ—ó</li>
              <li>üî¥ <strong>BLOCKED</strong> ‚Äî –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ</li>
              <li>üü¢ <strong>COMPLETED</strong> ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–æ</li>
            </ul>
          `
        },
        'approval-type': {
          title: '–¢–∏–ø Approval',
          icon: 'check',
          content: `
            <p>–í–∏–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è, —è–∫–µ –æ—á—ñ–∫—É—î –∫–µ–π—Å.</p>
            <ul>
              <li><strong>QUOTE</strong> ‚Äî –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ü—ñ–Ω–∏ –∫–ª—ñ—î–Ω—Ç–æ–º</li>
              <li><strong>DIMS</strong> ‚Äî –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–º—ñ–Ω–∏ –≥–∞–±–∞—Ä–∏—Ç—ñ–≤</li>
              <li><strong>BL</strong> ‚Äî –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–æ–Ω–æ—Å–∞–º–µ–Ω—Ç—É</li>
              <li><strong>RELEASE</strong> ‚Äî –¥–æ–∑–≤—ñ–ª –Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫—É</li>
            </ul>
          `
        },
        'sla-column': {
          title: 'SLA (Service Level Agreement)',
          icon: 'clock',
          content: `
            <p>–ß–∞—Å, —â–æ –∑–∞–ª–∏—à–∏–≤—Å—è –¥–æ –¥–µ–¥–ª–∞–π–Ω—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫—Ä–æ–∫—É.</p>
            <p><strong>–Ø–∫ —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è:</strong></p>
            <ul>
              <li>–ö–æ–∂–µ–Ω —Å—Ç–∞—Ç—É—Å –º–∞—î —Å–≤—ñ–π SLA</li>
              <li>–í—ñ–¥–ª—ñ–∫ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞—Ç—É—Å—É</li>
              <li>–ü—Ä–∏–∑—É–ø–∏–Ω—è—î—Ç—å—Å—è –Ω–∞ –≤–∏—Ö—ñ–¥–Ω—ñ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)</li>
            </ul>
          `
        }
      },

      init() {
        this.bindEvents();
      },

      bindEvents() {
        // –ö–ª—ñ–∫ –ø–æ help-trigger
        document.addEventListener('click', (e) => {
          const trigger = e.target.closest('.help-trigger');
          
          if (trigger) {
            e.preventDefault();
            e.stopPropagation();
            const helpId = trigger.dataset.help;
            if (helpId) {
              this.togglePopup(helpId, trigger);
            }
            return;
          }

          // –ó–∞–∫—Ä–∏—Ç–∏ popup –ø—Ä–∏ –∫–ª—ñ–∫—É –∑–æ–≤–Ω—ñ
          if (this.activePopup && !e.target.closest('.help-popup')) {
            this.closePopup();
          }
        });

        // –ó–∞–∫—Ä–∏—Ç–∏ –ø—Ä–∏ Escape
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && this.activePopup) {
            this.closePopup();
          }
        });
      },

      togglePopup(helpId, trigger) {
        // –Ø–∫—â–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π —Ç–æ–π —Å–∞–º–∏–π popup ‚Äî –∑–∞–∫—Ä–∏–≤–∞—î–º–æ
        if (this.activeTrigger === trigger) {
          this.closePopup();
          return;
        }

        // –ó–∞–∫—Ä–∏–≤–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π
        this.closePopup();

        const content = this.helpContent[helpId];
        if (!content) return;

        // –°—Ç–≤–æ—Ä—é—î–º–æ popup
        const popup = document.createElement('div');
        popup.className = 'help-popup';
        popup.innerHTML = `
          <div class="help-popup-header">
            <div class="help-popup-icon">${this.getIcon(content.icon)}</div>
            <div class="help-popup-title">${content.title}</div>
          </div>
          <div class="help-popup-content">
            ${content.content}
          </div>
          ${content.shortcut ? `
            <div class="help-popup-footer">
              <span>–®–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø:</span>
              <kbd>${content.shortcut}</kbd>
            </div>
          ` : ''}
        `;

        document.body.appendChild(popup);

        // –ü–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è
        this.positionPopup(popup, trigger);

        // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Å—Ç–∞–Ω
        this.activePopup = popup;
        this.activeTrigger = trigger;
        trigger.classList.add('active');
      },

      positionPopup(popup, trigger) {
        const triggerRect = trigger.getBoundingClientRect();
        const popupRect = popup.getBoundingClientRect();

        let top = triggerRect.bottom + 8;
        let left = triggerRect.left - 10;

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –Ω–µ –≤–∏—Ö–æ–¥–∏—Ç—å –∑–∞ –ø—Ä–∞–≤—É –º–µ–∂—É
        if (left + popupRect.width > window.innerWidth - 16) {
          left = window.innerWidth - popupRect.width - 16;
        }

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –Ω–µ –≤–∏—Ö–æ–¥–∏—Ç—å –∑–∞ –Ω–∏–∂–Ω—é –º–µ–∂—É
        if (top + popupRect.height > window.innerHeight - 16) {
          // –ü–æ–∫–∞–∑—É—î–º–æ –∑–≤–µ—Ä—Ö—É
          top = triggerRect.top - popupRect.height - 8;
          popup.style.setProperty('--arrow-position', 'bottom');
          popup.classList.add('arrow-bottom');
        }

        // –ù–µ –≤–∏—Ö–æ–¥–∏–º–æ –∑–∞ –ª—ñ–≤—É –º–µ–∂—É
        left = Math.max(16, left);

        popup.style.position = 'fixed';
        popup.style.top = `${top}px`;
        popup.style.left = `${left}px`;
      },

      closePopup() {
        if (this.activePopup) {
          this.activePopup.classList.add('closing');
          setTimeout(() => {
            if (this.activePopup) {
              this.activePopup.remove();
              this.activePopup = null;
            }
          }, 150);
        }
        if (this.activeTrigger) {
          this.activeTrigger.classList.remove('active');
          this.activeTrigger = null;
        }
      },

      getIcon(iconName) {
        const icons = {
          info: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',
          check: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>',
          clock: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>',
          folder: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>',
          alert: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
          progress: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>'
        };
        return icons[iconName] || icons.info;
      }
    };

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    document.addEventListener('DOMContentLoaded', () => {
      TipsManager.init();
      HelpManager.init();
    });
  </script>
</body>
</html>
